<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>class_attribute_values (RDoc::Generator::Class)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" href="../../../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre>     <span class="ruby-comment cmt"># File lib/rdoc/generator.rb, line 614</span>
614:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_attribute_values</span>
615:       <span class="ruby-identifier">h_name</span> = <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">escapeHTML</span>(<span class="ruby-identifier">name</span>)
616: 
617:       <span class="ruby-ivar">@values</span>[<span class="ruby-value str">&quot;href&quot;</span>]      = <span class="ruby-ivar">@path</span>
618:       <span class="ruby-ivar">@values</span>[<span class="ruby-value str">&quot;classmod&quot;</span>]  = <span class="ruby-ivar">@is_module</span> <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;Module&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;Class&quot;</span>
619:       <span class="ruby-ivar">@values</span>[<span class="ruby-value str">&quot;title&quot;</span>]     = <span class="ruby-node">&quot;#{@values['classmod']}: #{h_name} [#{@options.title}]&quot;</span>
620: 
621:       <span class="ruby-identifier">c</span> = <span class="ruby-ivar">@context</span>
622:       <span class="ruby-identifier">c</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">parent</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">c</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">diagram</span>
623: 
624:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">diagram</span> <span class="ruby-keyword kw">then</span>
625:         <span class="ruby-ivar">@values</span>[<span class="ruby-value str">&quot;diagram&quot;</span>] = <span class="ruby-identifier">diagram_reference</span>(<span class="ruby-identifier">c</span>.<span class="ruby-identifier">diagram</span>)
626:       <span class="ruby-keyword kw">end</span>
627: 
628:       <span class="ruby-ivar">@values</span>[<span class="ruby-value str">&quot;full_name&quot;</span>] = <span class="ruby-identifier">h_name</span>
629: 
630:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@context</span>.<span class="ruby-identifier">module?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@context</span>.<span class="ruby-identifier">superclass</span> <span class="ruby-keyword kw">then</span>
631:         <span class="ruby-identifier">parent_class</span> = <span class="ruby-ivar">@context</span>.<span class="ruby-identifier">superclass</span>
632:         <span class="ruby-ivar">@values</span>[<span class="ruby-value str">&quot;parent&quot;</span>] = <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">escapeHTML</span>(<span class="ruby-identifier">parent_class</span>)
633: 
634:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_name</span>
635:           <span class="ruby-identifier">lookup</span> = <span class="ruby-identifier">parent_name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;::&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">parent_class</span>
636:         <span class="ruby-keyword kw">else</span>
637:           <span class="ruby-identifier">lookup</span> = <span class="ruby-identifier">parent_class</span>
638:         <span class="ruby-keyword kw">end</span>
639: 
640:         <span class="ruby-identifier">parent_url</span> = <span class="ruby-constant">AllReferences</span>[<span class="ruby-identifier">lookup</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">AllReferences</span>[<span class="ruby-identifier">parent_class</span>]
641: 
642:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_url</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">parent_url</span>.<span class="ruby-identifier">document_self</span>
643:           <span class="ruby-ivar">@values</span>[<span class="ruby-value str">&quot;par_url&quot;</span>] = <span class="ruby-identifier">aref_to</span>(<span class="ruby-identifier">parent_url</span>.<span class="ruby-identifier">path</span>)
644:         <span class="ruby-keyword kw">end</span>
645:       <span class="ruby-keyword kw">end</span>
646: 
647:       <span class="ruby-identifier">files</span> = []
648:       <span class="ruby-ivar">@context</span>.<span class="ruby-identifier">in_files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
649:         <span class="ruby-identifier">res</span> = {}
650:         <span class="ruby-identifier">full_path</span> = <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">escapeHTML</span>(<span class="ruby-identifier">f</span>.<span class="ruby-identifier">file_absolute_name</span>)
651: 
652:         <span class="ruby-identifier">res</span>[<span class="ruby-value str">&quot;full_path&quot;</span>]     = <span class="ruby-identifier">full_path</span>
653:         <span class="ruby-identifier">res</span>[<span class="ruby-value str">&quot;full_path_url&quot;</span>] = <span class="ruby-identifier">aref_to</span>(<span class="ruby-identifier">f</span>.<span class="ruby-identifier">viewer</span>.<span class="ruby-identifier">path</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">document_self</span>
654: 
655:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">webcvs</span>
656:           <span class="ruby-identifier">res</span>[<span class="ruby-value str">&quot;cvsurl&quot;</span>] = <span class="ruby-identifier">cvs_url</span>( <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">webcvs</span>, <span class="ruby-identifier">full_path</span> )
657:         <span class="ruby-keyword kw">end</span>
658: 
659:         <span class="ruby-identifier">files</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">res</span>
660:       <span class="ruby-keyword kw">end</span>
661: 
662:       <span class="ruby-ivar">@values</span>[<span class="ruby-value str">'infiles'</span>] = <span class="ruby-identifier">files</span>
663:     <span class="ruby-keyword kw">end</span></pre>
</body>
</html>
