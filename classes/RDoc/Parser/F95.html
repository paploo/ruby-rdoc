<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: RDoc::Parser::F95 [RDoc Documentation]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">RDoc::Parser::F95</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../../../files/lib/rdoc/parser/f95_rb.html">

                lib/rdoc/parser/f95.rb

                </a>


        <br />

            </td>
        </tr>


        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>

                <a href="../Parser.html">

                RDoc::Parser

               </a>

            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

    <div id="description">
      <h1>Fortran95 <a href="../RDoc.html">RDoc</a> Parser</h1>
<h2>Overview</h2>
<p>
This parser parses Fortran95 files with suffixes &#8220;f90&#8221;,
&#8220;F90&#8221;, &#8220;f95&#8221; and &#8220;F95&#8221;. Fortran95 files
are expected to be conformed to Fortran95 standards.
</p>
<h2>Rules</h2>
<p>
Fundamental rules are same as that of the <a href="Ruby.html">Ruby</a>
parser. But comment markers are &#8217;!&#8217; not &#8217;#&#8217;.
</p>
<h3>Correspondence between <a href="../RDoc.html">RDoc</a> documentation and Fortran95 programs</h3>
<p>
<a href="F95.html">F95</a> parses main programs, modules, subroutines,
functions, derived-types, public variables, public constants, defined
operators and defined assignments. These components are described in items
of <a href="../RDoc.html">RDoc</a> documentation, as follows.
</p>
<table>
<tr><td valign="top">Files :</td><td>Files (same as <a href="Ruby.html">Ruby</a>)

</td></tr>
<tr><td valign="top">Classes:</td><td>Modules

</td></tr>
<tr><td valign="top">Methods:</td><td>Subroutines, functions, variables, constants, derived-types, defined
operators, defined assignments

</td></tr>
<tr><td valign="top">Required files:</td><td>Files in which imported modules, external subroutines and external
functions are defined.

</td></tr>
<tr><td valign="top">Included Modules:</td><td><a href="../../List.html">List</a> of imported modules

</td></tr>
<tr><td valign="top">Attributes:</td><td><a href="../../List.html">List</a> of derived-types, <a
href="../../List.html">List</a> of imported modules all of whose components
are published again

</td></tr>
</table>
<p>
Components listed in &#8216;Methods&#8217; (subroutines, functions,
&#8230;) defined in modules are described in the item of
&#8216;Classes&#8217;. On the other hand, components defined in main
programs or as external procedures are described in the item of
&#8216;Files&#8217;.
</p>
<h3>Components parsed by default</h3>
<p>
By default, documentation on public components (subroutines, functions,
variables, constants, derived-types, defined operators, defined
assignments) are generated.
</p>
<p>
With &#8220;&#8212;all&#8221; option, documentation on all components are
generated (almost same as the <a href="Ruby.html">Ruby</a> parser).
</p>
<h3>Information parsed automatically</h3>
<p>
The following information is automatically parsed.
</p>
<ul>
<li>Types of arguments

</li>
<li>Types of variables and constants

</li>
<li>Types of variables in the derived types, and initial values

</li>
<li>NAMELISTs and types of variables in them, and initial values

</li>
</ul>
<p>
Aliases by interface statement are described in the item of
&#8216;Methods&#8217;.
</p>
<p>
Components which are imported from other modules and published again are
described in the item of &#8216;Methods&#8217;.
</p>
<h3>Format of comment blocks</h3>
<p>
Comment blocks should be written as follows.
</p>
<p>
Comment blocks are considered to be ended when the line without
&#8217;!&#8217; appears.
</p>
<p>
The indentation is not necessary.
</p>
<pre>
  ! (Top of file)
  !
  ! Comment blocks for the files.
  !
  !--
  ! The comment described in the part enclosed by
  ! &quot;!--&quot; and &quot;!++&quot; is ignored.
  !++
  !
  module hogehoge
    !
    ! Comment blocks for the modules (or the programs).
    !

    private

    logical            :: a     ! a private variable
    real, public       :: b     ! a public variable
    integer, parameter :: c = 0 ! a public constant

    public :: c
    public :: MULTI_ARRAY
    public :: hoge, foo

    type MULTI_ARRAY
      !
      ! Comment blocks for the derived-types.
      !
      real, pointer :: var(:) =&gt;null() ! Comments block for the variables.
      integer       :: num = 0
    end type MULTI_ARRAY

  contains

    subroutine hoge( in,   &amp;   ! Comment blocks between continuation lines are ignored.
        &amp;            out )
      !
      ! Comment blocks for the subroutines or functions
      !
      character(*),intent(in):: in ! Comment blocks for the arguments.
      character(*),intent(out),allocatable,target  :: in
                                   ! Comment blocks can be
                                   ! written under Fortran statements.

      character(32) :: file ! This comment parsed as a variable in below NAMELIST.
      integer       :: id

      namelist /varinfo_nml/ file, id
              !
              ! Comment blocks for the NAMELISTs.
              ! Information about variables are described above.
              !

    ....

    end subroutine hoge

    integer function foo( in )
      !
      ! This part is considered as comment block.

      ! Comment blocks under blank lines are ignored.
      !
      integer, intent(in):: inA ! This part is considered as comment block.

                                ! This part is ignored.

    end function foo

    subroutine hide( in,   &amp;
      &amp;              out )      !:nodoc:
      !
      ! If &quot;!:nodoc:&quot; is described at end-of-line in subroutine
      ! statement as above, the subroutine is ignored.
      ! This assignment can be used to modules, subroutines,
      ! functions, variables, constants, derived-types,
      ! defined operators, defined assignments,
      ! list of imported modules (&quot;use&quot; statement).
      !

    ....

    end subroutine hide

  end module hogehoge
</pre>

    </div>

   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M005112">block_end?</a>&nbsp;&nbsp;

        <a href="#M005111">block_start?</a>&nbsp;&nbsp;

        <a href="#M005105">check_external_aliases</a>&nbsp;&nbsp;

        <a href="#M005106">check_public_methods</a>&nbsp;&nbsp;

        <a href="#M005096">collect_first_comment</a>&nbsp;&nbsp;

        <a href="#M005109">comment_out?</a>&nbsp;&nbsp;

        <a href="#M005108">continuous_line?</a>&nbsp;&nbsp;

        <a href="#M005117">definition_info</a>&nbsp;&nbsp;

        <a href="#M005097">find_arguments</a>&nbsp;&nbsp;

        <a href="#M005099">find_comments</a>&nbsp;&nbsp;

        <a href="#M005098">find_namelists</a>&nbsp;&nbsp;

        <a href="#M005104">find_visibility</a>&nbsp;&nbsp;

        <a href="#M005101">initialize_external_method</a>&nbsp;&nbsp;

        <a href="#M005100">initialize_public_method</a>&nbsp;&nbsp;

        <a href="#M005094">parse_program_or_module</a>&nbsp;&nbsp;

        <a href="#M005095">parse_subprogram</a>&nbsp;&nbsp;

        <a href="#M005102">parse_visibility</a>&nbsp;&nbsp;

        <a href="#M005114">remove_empty_head_lines</a>&nbsp;&nbsp;

        <a href="#M005115">remove_header_marker</a>&nbsp;&nbsp;

        <a href="#M005116">remove_private_comments</a>&nbsp;&nbsp;

        <a href="#M005113">remove_trailing_alias</a>&nbsp;&nbsp;

        <a href="#M005093">scan</a>&nbsp;&nbsp;

        <a href="#M005110">semicolon_to_linefeed</a>&nbsp;&nbsp;

        <a href="#M005103">set_visibility</a>&nbsp;&nbsp;

        <a href="#M005107">united_to_one_line</a>&nbsp;&nbsp;

      </div>
    </div>

  </div>

    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Class <a href="F95/Fortran95Definition.html" class="link">RDoc::Parser::F95::Fortran95Definition</a><br />
Class <a href="F95/Token.html" class="link">RDoc::Parser::F95::Token</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">COMMENTS_ARE_UPPER</td>
          <td>=</td>
          <td class="context-item-value">false</td>

          <td>&nbsp;</td>
          <td class="context-item-desc"><table>
<tr><td valign="top">&#8220;false&#8221;:</td><td>Comments are below source code

</td></tr>
<tr><td valign="top">&#8220;true&#8221; :</td><td>Comments are upper source code

</td></tr>
</table>
</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">INTERNAL_ALIAS_MES</td>
          <td>=</td>
          <td class="context-item-value">&quot;Alias for&quot;</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
Internal alias message

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EXTERNAL_ALIAS_MES</td>
          <td>=</td>
          <td class="context-item-value">&quot;The entity is&quot;</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
External alias message

</td>

        </tr>

        </table>
      </div>
    </div>




    <!-- if method_list -->

    <div id="methods">

      <h3 class="section-bar">Public Instance methods</h3>


      <div id="method-M005093" class="method-detail">
        <a name="M005093"></a>

        <div class="method-heading">

          <a href="F95.src/M005093.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005093.html');return false;">

          <span class="method-name">scan</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Define code constructs
</p>

        </div>
      </div>


      <h3 class="section-bar">Private Instance methods</h3>


      <div id="method-M005112" class="method-detail">
        <a name="M005112"></a>

        <div class="method-heading">

          <a href="F95.src/M005112.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005112.html');return false;">

          <span class="method-name">block_end?</span><span class="method-args">(line)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Which &#8220;line&#8221; is end of block (module, program, block data,
subroutine, function) statement ?
</p>

        </div>
      </div>


      <div id="method-M005111" class="method-detail">
        <a name="M005111"></a>

        <div class="method-heading">

          <a href="F95.src/M005111.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005111.html');return false;">

          <span class="method-name">block_start?</span><span class="method-args">(line)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Which &#8220;line&#8221; is start of block (module, program, block data,
subroutine, function) statement ?
</p>

        </div>
      </div>


      <div id="method-M005105" class="method-detail">
        <a name="M005105"></a>

        <div class="method-heading">

          <a href="F95.src/M005105.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005105.html');return false;">

          <span class="method-name">check_external_aliases</span><span class="method-args">(subname, params, comment, test=nil)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Check external aliases
</p>

        </div>
      </div>


      <div id="method-M005106" class="method-detail">
        <a name="M005106"></a>

        <div class="method-heading">

          <a href="F95.src/M005106.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005106.html');return false;">

          <span class="method-name">check_public_methods</span><span class="method-args">(method, parent)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Check public_methods
</p>

        </div>
      </div>


      <div id="method-M005096" class="method-detail">
        <a name="M005096"></a>

        <div class="method-heading">

          <a href="F95.src/M005096.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005096.html');return false;">

          <span class="method-name">collect_first_comment</span><span class="method-args">(body)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Collect comment for file entity
</p>

        </div>
      </div>


      <div id="method-M005109" class="method-detail">
        <a name="M005109"></a>

        <div class="method-heading">

          <a href="F95.src/M005109.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005109.html');return false;">

          <span class="method-name">comment_out?</span><span class="method-args">(line)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Comment out checker
</p>

        </div>
      </div>


      <div id="method-M005108" class="method-detail">
        <a name="M005108"></a>

        <div class="method-heading">

          <a href="F95.src/M005108.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005108.html');return false;">

          <span class="method-name">continuous_line?</span><span class="method-args">(line)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Continuous line checker
</p>

        </div>
      </div>


      <div id="method-M005117" class="method-detail">
        <a name="M005117"></a>

        <div class="method-heading">

          <a href="F95.src/M005117.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005117.html');return false;">

          <span class="method-name">definition_info</span><span class="method-args">(text)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Parse string argument &#8220;text&#8221;, and Return <a
href="../../Array.html">Array</a> of <a
href="F95/Fortran95Definition.html">Fortran95Definition</a> object
</p>

        </div>
      </div>


      <div id="method-M005097" class="method-detail">
        <a name="M005097"></a>

        <div class="method-heading">

          <a href="F95.src/M005097.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005097.html');return false;">

          <span class="method-name">find_arguments</span><span class="method-args">(args, text, all=nil, indent=nil, modified_params=nil)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Return comments of definitions of arguments
</p>
<p>
If &#8220;all&#8221; argument is true, information of all arguments are
returned.
</p>
<p>
If &#8220;modified_params&#8220; is true, list of arguments are decorated,
for example, optional arguments are parenthetic as &#8220;[arg]&#8221;.
</p>

        </div>
      </div>


      <div id="method-M005099" class="method-detail">
        <a name="M005099"></a>

        <div class="method-heading">

          <a href="F95.src/M005099.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005099.html');return false;">

          <span class="method-name">find_comments</span><span class="method-args">(text)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Comments just after module or subprogram, or arguments are returned. If
&#8220;COMMENTS_ARE_UPPER&#8220; is true, comments just before modules or
subprograms are returnd
</p>

        </div>
      </div>


      <div id="method-M005098" class="method-detail">
        <a name="M005098"></a>

        <div class="method-heading">

          <a href="F95.src/M005098.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005098.html');return false;">

          <span class="method-name">find_namelists</span><span class="method-args">(text, before_contains=nil)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Return comments of definitions of namelists
</p>

        </div>
      </div>


      <div id="method-M005104" class="method-detail">
        <a name="M005104"></a>

        <div class="method-heading">

          <a href="F95.src/M005104.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005104.html');return false;">

          <span class="method-name">find_visibility</span><span class="method-args">(container, subname, visibility_info)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
<a href="../../Find.html">Find</a> visibility
</p>

        </div>
      </div>


      <div id="method-M005101" class="method-detail">
        <a name="M005101"></a>

        <div class="method-heading">

          <a href="F95.src/M005101.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005101.html');return false;">

          <span class="method-name">initialize_external_method</span><span class="method-args">(new, old, params, file, comment, token=nil, internal=nil, nolink=nil)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Create method for external alias
</p>
<p>
If argument &#8220;internal&#8221; is true, file is ignored.
</p>

        </div>
      </div>


      <div id="method-M005100" class="method-detail">
        <a name="M005100"></a>

        <div class="method-heading">

          <a href="F95.src/M005100.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005100.html');return false;">

          <span class="method-name">initialize_public_method</span><span class="method-args">(method, parent)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Create method for internal alias
</p>

        </div>
      </div>


      <div id="method-M005094" class="method-detail">
        <a name="M005094"></a>

        <div class="method-heading">

          <a href="F95.src/M005094.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005094.html');return false;">

          <span class="method-name">parse_program_or_module</span><span class="method-args">(container, code, visibility=:public, external=nil)</span>

          </a>

        </div>

        <div class="method-description">

        </div>
      </div>


      <div id="method-M005095" class="method-detail">
        <a name="M005095"></a>

        <div class="method-heading">

          <a href="F95.src/M005095.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005095.html');return false;">

          <span class="method-name">parse_subprogram</span><span class="method-args">(subprogram, params, comment, code, before_contains=nil, function=nil, prefix=nil)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Parse arguments, comment, code of subroutine and function. Return <a
href="../AnyMethod.html">AnyMethod</a> object.
</p>

        </div>
      </div>


      <div id="method-M005102" class="method-detail">
        <a name="M005102"></a>

        <div class="method-heading">

          <a href="F95.src/M005102.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005102.html');return false;">

          <span class="method-name">parse_visibility</span><span class="method-args">(code, default, container)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Parse visibility
</p>

        </div>
      </div>


      <div id="method-M005114" class="method-detail">
        <a name="M005114"></a>

        <div class="method-heading">

          <a href="F95.src/M005114.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005114.html');return false;">

          <span class="method-name">remove_empty_head_lines</span><span class="method-args">(text)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Empty lines in header are removed
</p>

        </div>
      </div>


      <div id="method-M005115" class="method-detail">
        <a name="M005115"></a>

        <div class="method-heading">

          <a href="F95.src/M005115.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005115.html');return false;">

          <span class="method-name">remove_header_marker</span><span class="method-args">(text)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
header marker &#8220;=&#8221;, &#8220;==&#8221;, &#8230; are removed
</p>

        </div>
      </div>


      <div id="method-M005116" class="method-detail">
        <a name="M005116"></a>

        <div class="method-heading">

          <a href="F95.src/M005116.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005116.html');return false;">

          <span class="method-name">remove_private_comments</span><span class="method-args">(body)</span>

          </a>

        </div>

        <div class="method-description">

        </div>
      </div>


      <div id="method-M005113" class="method-detail">
        <a name="M005113"></a>

        <div class="method-heading">

          <a href="F95.src/M005113.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005113.html');return false;">

          <span class="method-name">remove_trailing_alias</span><span class="method-args">(text)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Remove &#8220;<a href="../Alias.html">Alias</a> for&#8221; in end of
comments
</p>

        </div>
      </div>


      <div id="method-M005110" class="method-detail">
        <a name="M005110"></a>

        <div class="method-heading">

          <a href="F95.src/M005110.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005110.html');return false;">

          <span class="method-name">semicolon_to_linefeed</span><span class="method-args">(text)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Semicolons are replaced to line feed.
</p>

        </div>
      </div>


      <div id="method-M005103" class="method-detail">
        <a name="M005103"></a>

        <div class="method-heading">

          <a href="F95.src/M005103.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005103.html');return false;">

          <span class="method-name">set_visibility</span><span class="method-args">(container, subname, visibility_default, visibility_info)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
<a href="../../Set.html">Set</a> visibility
</p>
<p>
&#8220;subname&#8221; element of &#8220;visibility_info&#8220; is deleted.
</p>

        </div>
      </div>


      <div id="method-M005107" class="method-detail">
        <a name="M005107"></a>

        <div class="method-heading">

          <a href="F95.src/M005107.html" target="Code" class="method-signature"
            onclick="popupCode('F95.src/M005107.html');return false;">

          <span class="method-name">united_to_one_line</span><span class="method-args">(f90src)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Continuous lines are united.
</p>
<p>
Comments in continuous lines are removed.
</p>

        </div>
      </div>



    </div>




  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
