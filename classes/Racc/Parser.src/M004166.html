<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>_racc_do_parse_rb (Racc::Parser)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre>     <span class="ruby-comment cmt"># File lib/racc/parser.rb, line 106</span>
106:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_racc_do_parse_rb</span>(<span class="ruby-identifier">arg</span>, <span class="ruby-identifier">in_debug</span>)
107:       <span class="ruby-identifier">action_table</span>, <span class="ruby-identifier">action_check</span>, <span class="ruby-identifier">action_default</span>, <span class="ruby-identifier">action_pointer</span>,
108:       <span class="ruby-identifier">goto_table</span>,   <span class="ruby-identifier">goto_check</span>,   <span class="ruby-identifier">goto_default</span>,   <span class="ruby-identifier">goto_pointer</span>,
109:       <span class="ruby-identifier">nt_base</span>,      <span class="ruby-identifier">reduce_table</span>, <span class="ruby-identifier">token_table</span>,    <span class="ruby-identifier">shift_n</span>,
110:       <span class="ruby-identifier">reduce_n</span>,     <span class="ruby-identifier">use_result</span>,   <span class="ruby-operator">*</span> = <span class="ruby-identifier">arg</span>
111: 
112:       <span class="ruby-identifier">_racc_init_sysvars</span>
113:       <span class="ruby-identifier">tok</span> = <span class="ruby-identifier">act</span> = <span class="ruby-identifier">i</span> = <span class="ruby-keyword kw">nil</span>
114:       <span class="ruby-identifier">nerr</span> = <span class="ruby-value">0</span>
115: 
116:       <span class="ruby-identifier">catch</span>(<span class="ruby-identifier">:racc_end_parse</span>) {
117:         <span class="ruby-keyword kw">while</span> <span class="ruby-keyword kw">true</span>
118:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span> = <span class="ruby-identifier">action_pointer</span>[<span class="ruby-ivar">@racc_state</span>[<span class="ruby-value">-1</span>]]
119:             <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@racc_read_next</span>
120:               <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@racc_t</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>   <span class="ruby-comment cmt"># not EOF</span>
121:                 <span class="ruby-identifier">tok</span>, <span class="ruby-ivar">@racc_val</span> = <span class="ruby-identifier">next_token</span>()
122:                 <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">tok</span>      <span class="ruby-comment cmt"># EOF</span>
123:                   <span class="ruby-ivar">@racc_t</span> = <span class="ruby-value">0</span>
124:                 <span class="ruby-keyword kw">else</span>
125:                   <span class="ruby-ivar">@racc_t</span> = (<span class="ruby-identifier">token_table</span>[<span class="ruby-identifier">tok</span>] <span class="ruby-keyword kw">or</span> <span class="ruby-value">1</span>)   <span class="ruby-comment cmt"># error token</span>
126:                 <span class="ruby-keyword kw">end</span>
127:                 <span class="ruby-identifier">racc_read_token</span>(<span class="ruby-ivar">@racc_t</span>, <span class="ruby-identifier">tok</span>, <span class="ruby-ivar">@racc_val</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@yydebug</span>
128:                 <span class="ruby-ivar">@racc_read_next</span> = <span class="ruby-keyword kw">false</span>
129:               <span class="ruby-keyword kw">end</span>
130:             <span class="ruby-keyword kw">end</span>
131:             <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-ivar">@racc_t</span>
132:             <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">and</span>
133:                    <span class="ruby-identifier">act</span> = <span class="ruby-identifier">action_table</span>[<span class="ruby-identifier">i</span>] <span class="ruby-keyword kw">and</span>
134:                    <span class="ruby-identifier">action_check</span>[<span class="ruby-identifier">i</span>] <span class="ruby-operator">==</span> <span class="ruby-ivar">@racc_state</span>[<span class="ruby-value">-1</span>]
135:               <span class="ruby-identifier">act</span> = <span class="ruby-identifier">action_default</span>[<span class="ruby-ivar">@racc_state</span>[<span class="ruby-value">-1</span>]]
136:             <span class="ruby-keyword kw">end</span>
137:           <span class="ruby-keyword kw">else</span>
138:             <span class="ruby-identifier">act</span> = <span class="ruby-identifier">action_default</span>[<span class="ruby-ivar">@racc_state</span>[<span class="ruby-value">-1</span>]]
139:           <span class="ruby-keyword kw">end</span>
140:           <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">act</span> = <span class="ruby-identifier">_racc_evalact</span>(<span class="ruby-identifier">act</span>, <span class="ruby-identifier">arg</span>)
141:             ;
142:           <span class="ruby-keyword kw">end</span>
143:         <span class="ruby-keyword kw">end</span>
144:       }
145:     <span class="ruby-keyword kw">end</span></pre>
</body>
</html>
