<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Process [RDoc Documentation]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Process</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../files/process_c.html">

                process.c

                </a>


        <br />

            </td>
        </tr>


        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

    <div id="description">
      <p>
The <tt>Process</tt> module is a collection of methods used to manipulate
processes.
</p>

    </div>

   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M003153">abort</a>&nbsp;&nbsp;

        <a href="#M003185">daemon</a>&nbsp;&nbsp;

        <a href="#M003160">detach</a>&nbsp;&nbsp;

        <a href="#M003178">egid</a>&nbsp;&nbsp;

        <a href="#M003179">egid=</a>&nbsp;&nbsp;

        <a href="#M003176">euid</a>&nbsp;&nbsp;

        <a href="#M003177">euid=</a>&nbsp;&nbsp;

        <a href="#M003148">exec</a>&nbsp;&nbsp;

        <a href="#M003152">exit</a>&nbsp;&nbsp;

        <a href="#M003151">exit!</a>&nbsp;&nbsp;

        <a href="#M003149">fork</a>&nbsp;&nbsp;

        <a href="#M003165">getpgid</a>&nbsp;&nbsp;

        <a href="#M003163">getpgrp</a>&nbsp;&nbsp;

        <a href="#M003168">getpriority</a>&nbsp;&nbsp;

        <a href="#M003170">getrlimit</a>&nbsp;&nbsp;

        <a href="#M003174">gid</a>&nbsp;&nbsp;

        <a href="#M003175">gid=</a>&nbsp;&nbsp;

        <a href="#M003181">groups</a>&nbsp;&nbsp;

        <a href="#M003182">groups=</a>&nbsp;&nbsp;

        <a href="#M003180">initgroups</a>&nbsp;&nbsp;

        <a href="#M003154">kill</a>&nbsp;&nbsp;

        <a href="#M003183">maxgroups</a>&nbsp;&nbsp;

        <a href="#M003184">maxgroups=</a>&nbsp;&nbsp;

        <a href="#M003161">pid</a>&nbsp;&nbsp;

        <a href="#M003162">ppid</a>&nbsp;&nbsp;

        <a href="#M003166">setpgid</a>&nbsp;&nbsp;

        <a href="#M003164">setpgrp</a>&nbsp;&nbsp;

        <a href="#M003169">setpriority</a>&nbsp;&nbsp;

        <a href="#M003171">setrlimit</a>&nbsp;&nbsp;

        <a href="#M003167">setsid</a>&nbsp;&nbsp;

        <a href="#M003150">spawn</a>&nbsp;&nbsp;

        <a href="#M003186">times</a>&nbsp;&nbsp;

        <a href="#M003172">uid</a>&nbsp;&nbsp;

        <a href="#M003173">uid=</a>&nbsp;&nbsp;

        <a href="#M003155">wait</a>&nbsp;&nbsp;

        <a href="#M003156">wait2</a>&nbsp;&nbsp;

        <a href="#M003159">waitall</a>&nbsp;&nbsp;

        <a href="#M003157">waitpid</a>&nbsp;&nbsp;

        <a href="#M003158">waitpid2</a>&nbsp;&nbsp;

      </div>
    </div>

  </div>

    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Module <a href="Process/GID.html" class="link">Process::GID</a><br />
Module <a href="Process/Sys.html" class="link">Process::Sys</a><br />
Module <a href="Process/UID.html" class="link">Process::UID</a><br />
Class <a href="Process/Status.html" class="link">Process::Status</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">WNOHANG</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(WNOHANG)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">WNOHANG</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(0)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">WUNTRACED</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(WUNTRACED)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">WUNTRACED</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(0)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">PRIO_PROCESS</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(PRIO_PROCESS)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">PRIO_PGRP</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(PRIO_PGRP)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">PRIO_USER</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(PRIO_USER)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIM_SAVED_MAX</td>
          <td>=</td>
          <td class="context-item-value">v</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIM_INFINITY</td>
          <td>=</td>
          <td class="context-item-value">inf</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIM_SAVED_CUR</td>
          <td>=</td>
          <td class="context-item-value">v</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIMIT_CORE</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(RLIMIT_CORE)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIMIT_CPU</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(RLIMIT_CPU)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIMIT_DATA</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(RLIMIT_DATA)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIMIT_FSIZE</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(RLIMIT_FSIZE)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIMIT_NOFILE</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(RLIMIT_NOFILE)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIMIT_STACK</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(RLIMIT_STACK)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIMIT_AS</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(RLIMIT_AS)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIMIT_MEMLOCK</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(RLIMIT_MEMLOCK)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIMIT_NPROC</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(RLIMIT_NPROC)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIMIT_RSS</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(RLIMIT_RSS)</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">RLIMIT_SBSIZE</td>
          <td>=</td>
          <td class="context-item-value">INT2FIX(RLIMIT_SBSIZE)</td>

        </tr>

        </table>
      </div>
    </div>




    <!-- if method_list -->

    <div id="methods">

      <h3 class="section-bar">Public Class methods</h3>


      <div id="method-M003153" class="method-detail">
        <a name="M003153"></a>

        <div class="method-heading">

          <a href="Process.src/M003153.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003153.html');return false;">

          <span class="method-name">abort<br />
Kernel::abort<br />
Process::abort<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Terminate execution immediately, effectively by calling <tt><a
href="Kernel.html#M002998">Kernel.exit(1)</a></tt>. If <em>msg</em> is
given, it is written to STDERR prior to terminating.
</p>

        </div>
      </div>


      <div id="method-M003185" class="method-detail">
        <a name="M003185"></a>

        <div class="method-heading">

          <a href="Process.src/M003185.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003185.html');return false;">

          <span class="method-name">Process.daemon()                        => fixnum<br />
Process.daemon(nochdir=nil,noclose=nil) => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Detach the process from controlling terminal and run in the background as
system daemon. Unless the argument nochdir is true (i.e. non false), it
changes the current working directory to the root (&#8220;/&#8221;). Unless
the argument noclose is true, daemon() will redirect standard input,
standard output and standard error to /dev/null.
</p>

        </div>
      </div>


      <div id="method-M003160" class="method-detail">
        <a name="M003160"></a>

        <div class="method-heading">

          <a href="Process.src/M003160.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003160.html');return false;">

          <span class="method-name">Process.detach(pid)   => thread<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Some operating systems retain the status of terminated child processes
until the parent collects that status (normally using some variant of
<tt>wait()</tt>. If the parent never collects this status, the child stays
around as a <em>zombie</em> process. <tt>Process::detach</tt> prevents this
by setting up a separate Ruby thread whose sole job is to reap the status
of the process <em>pid</em> when it terminates. Use <tt>detach</tt> only
when you do not intent to explicitly wait for the child to terminate.
</p>
<p>
The waiting thread returns the exit status of the detached process when it
terminates, so you can use <tt><a
href="Thread.html#M001170">Thread#join</a></tt> to know the result. If
specified <em>pid</em> is not a valid child process ID, the thread returns
<tt>nil</tt> immediately.
</p>
<p>
In this first example, we don&#8217;t reap the first child process, so it
appears as a zombie in the process status display.
</p>
<pre>
   p1 = fork { sleep 0.1 }
   p2 = fork { sleep 0.2 }
   Process.waitpid(p2)
   sleep 2
   system(&quot;ps -ho pid,state -p #{p1}&quot;)
</pre>
<p>
<em>produces:</em>
</p>
<pre>
   27389 Z
</pre>
<p>
In the next example, <tt>Process::detach</tt> is used to reap the child
automatically.
</p>
<pre>
   p1 = fork { sleep 0.1 }
   p2 = fork { sleep 0.2 }
   Process.detach(p1)
   Process.waitpid(p2)
   sleep 2
   system(&quot;ps -ho pid,state -p #{p1}&quot;)
</pre>
<p>
<em>(produces no output)</em>
</p>

        </div>
      </div>


      <div id="method-M003178" class="method-detail">
        <a name="M003178"></a>

        <div class="method-heading">

          <a href="Process.src/M003178.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003178.html');return false;">

          <span class="method-name">Process.egid          => fixnum<br />
Process::GID.eid      => fixnum<br />
Process::Sys.geteid   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the effective group ID for this process. Not available on all
platforms.
</p>
<pre>
   Process.egid   #=&gt; 500
</pre>

        </div>
      </div>


      <div id="method-M003179" class="method-detail">
        <a name="M003179"></a>

        <div class="method-heading">

          <a href="Process.src/M003179.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003179.html');return false;">

          <span class="method-name">Process.egid = fixnum   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Sets the effective group ID for this process. Not available on all
platforms.
</p>

        </div>
      </div>


      <div id="method-M003176" class="method-detail">
        <a name="M003176"></a>

        <div class="method-heading">

          <a href="Process.src/M003176.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003176.html');return false;">

          <span class="method-name">Process.euid           => fixnum<br />
Process::UID.eid       => fixnum<br />
Process::Sys.geteuid   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the effective user ID for this process.
</p>
<pre>
   Process.euid   #=&gt; 501
</pre>

        </div>
      </div>


      <div id="method-M003177" class="method-detail">
        <a name="M003177"></a>

        <div class="method-heading">

          <a href="Process.src/M003177.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003177.html');return false;">

          <span class="method-name">Process.euid= integer<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Sets the effective user ID for this process. Not available on all
platforms.
</p>

        </div>
      </div>


      <div id="method-M003148" class="method-detail">
        <a name="M003148"></a>

        <div class="method-heading">

          <a href="Process.src/M003148.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003148.html');return false;">

          <span class="method-name">exec([env,] command [, arg, ...] [,options])<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Replaces the current process by running the given external
<em>command</em>. If optional arguments, sequence of <tt>arg</tt>, are not
given, that argument is taken as a line that is subject to shell expansion
before being executed. If one or more <tt>arg</tt> given, they are passed
as parameters to <em>command</em> with no shell expansion. If
<tt>command</tt> is a two-element array, the first element is the command
to be executed, and the second argument is used as the <tt>argv[0]</tt>
value, which may show up in process listings. In order to execute the
command, one of the <tt>exec(2)</tt> system calls is used, so the running
command may inherit some of the environment of the original program
(including open file descriptors).
</p>
<p>
The hash arguments, env and options, are same as <tt>system</tt> and
<tt>spawn</tt>. See <tt>spawn</tt> for details.
</p>
<p>
Raises <a href="SystemCallError.html">SystemCallError</a> if the
<em>command</em> couldn&#8217;t execute (typically <tt>Errno::ENOENT</tt>
when it was not found).
</p>
<pre>
   exec &quot;echo *&quot;       # echoes list of files in current directory
   # never get here

   exec &quot;echo&quot;, &quot;*&quot;    # echoes an asterisk
   # never get here
</pre>

        </div>
      </div>


      <div id="method-M003152" class="method-detail">
        <a name="M003152"></a>

        <div class="method-heading">

          <a href="Process.src/M003152.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003152.html');return false;">

          <span class="method-name">exit(integer=0)<br />
Kernel::exit(integer=0)<br />
Process::exit(integer=0)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Initiates the termination of the Ruby script by raising the
<tt>SystemExit</tt> exception. This exception may be caught. The optional
parameter is used to return a status code to the invoking environment.
</p>
<pre>
   begin
     exit
     puts &quot;never get here&quot;
   rescue SystemExit
     puts &quot;rescued a SystemExit exception&quot;
   end
   puts &quot;after begin block&quot;
</pre>
<p>
<em>produces:</em>
</p>
<pre>
   rescued a SystemExit exception
   after begin block
</pre>
<p>
Just prior to termination, Ruby executes any <tt>at_exit</tt> functions
(see Kernel::at_exit) and runs any object finalizers (see
ObjectSpace::define_finalizer).
</p>
<pre>
   at_exit { puts &quot;at_exit function&quot; }
   ObjectSpace.define_finalizer(&quot;string&quot;,  proc { puts &quot;in finalizer&quot; })
   exit
</pre>
<p>
<em>produces:</em>
</p>
<pre>
   at_exit function
   in finalizer
</pre>

        </div>
      </div>


      <div id="method-M003151" class="method-detail">
        <a name="M003151"></a>

        <div class="method-heading">

          <a href="Process.src/M003151.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003151.html');return false;">

          <span class="method-name">Process.exit!(fixnum=-1)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Exits the process immediately. No exit handlers are run. <em>fixnum</em> is
returned to the underlying system as the exit status.
</p>
<pre>
   Process.exit!(0)
</pre>

        </div>
      </div>


      <div id="method-M003149" class="method-detail">
        <a name="M003149"></a>

        <div class="method-heading">

          <a href="Process.src/M003149.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003149.html');return false;">

          <span class="method-name">Kernel.fork  [{ block }]   => fixnum or nil<br />
Process.fork [{ block }]   => fixnum or nil<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Creates a subprocess. If a block is specified, that block is run in the
subprocess, and the subprocess terminates with a status of zero. Otherwise,
the <tt>fork</tt> call returns twice, once in the parent, returning the
process ID of the child, and once in the child, returning <em>nil</em>. The
child process can exit using <tt><a
href="Kernel.html#M002994">Kernel.exit!</a></tt> to avoid running any
<tt>at_exit</tt> functions. The parent process should use <tt><a
href="Process.html#M003155">Process.wait</a></tt> to collect the
termination statuses of its children or use <tt><a
href="Process.html#M003160">Process.detach</a></tt> to register disinterest
in their status; otherwise, the operating system may accumulate zombie
processes.
</p>
<p>
The thread calling fork is the only thread in the created child process.
fork doesn&#8217;t copy other threads.
</p>

        </div>
      </div>


      <div id="method-M003165" class="method-detail">
        <a name="M003165"></a>

        <div class="method-heading">

          <a href="Process.src/M003165.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003165.html');return false;">

          <span class="method-name">Process.getpgid(pid)   => integer<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the process group ID for the given process id. Not available on all
platforms.
</p>
<pre>
   Process.getpgid(Process.ppid())   #=&gt; 25527
</pre>

        </div>
      </div>


      <div id="method-M003163" class="method-detail">
        <a name="M003163"></a>

        <div class="method-heading">

          <a href="Process.src/M003163.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003163.html');return false;">

          <span class="method-name">Process.getpgrp   => integer<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the process group ID for this process. Not available on all
platforms.
</p>
<pre>
   Process.getpgid(0)   #=&gt; 25527
   Process.getpgrp      #=&gt; 25527
</pre>

        </div>
      </div>


      <div id="method-M003168" class="method-detail">
        <a name="M003168"></a>

        <div class="method-heading">

          <a href="Process.src/M003168.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003168.html');return false;">

          <span class="method-name">Process.getpriority(kind, integer)   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Gets the scheduling priority for specified process, process group, or user.
<em>kind</em> indicates the kind of entity to find: one of
<tt>Process::PRIO_PGRP</tt>, <tt>Process::PRIO_USER</tt>, or
<tt>Process::PRIO_PROCESS</tt>. <em>integer</em> is an id indicating the
particular process, process group, or user (an id of 0 means
<em>current</em>). Lower priorities are more favorable for scheduling. Not
available on all platforms.
</p>
<pre>
   Process.getpriority(Process::PRIO_USER, 0)      #=&gt; 19
   Process.getpriority(Process::PRIO_PROCESS, 0)   #=&gt; 19
</pre>

        </div>
      </div>


      <div id="method-M003170" class="method-detail">
        <a name="M003170"></a>

        <div class="method-heading">

          <a href="Process.src/M003170.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003170.html');return false;">

          <span class="method-name">Process.getrlimit(resource)   => [cur_limit, max_limit]<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Gets the resource limit of the process. <em>cur_limit</em> means current
(soft) limit and <em>max_limit</em> means maximum (hard) limit.
</p>
<p>
<em>resource</em> indicates the kind of resource to limit. It is specified
as a symbol such as <tt>:CORE</tt>, a string such as
<tt>&quot;CORE&quot;</tt> or a constant such as
<tt>Process::RLIMIT_CORE</tt>. See <a
href="Process.html#M003171">Process.setrlimit</a> for details.
</p>
<p>
<em>cur_limit</em> and <em>max_limit</em> may be
<tt>Process::RLIM_INFINITY</tt>, <tt>Process::RLIM_SAVED_MAX</tt> or
<tt>Process::RLIM_SAVED_CUR</tt>. See <a
href="Process.html#M003171">Process.setrlimit</a> and the system
getrlimit(2) manual for details.
</p>

        </div>
      </div>


      <div id="method-M003174" class="method-detail">
        <a name="M003174"></a>

        <div class="method-heading">

          <a href="Process.src/M003174.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003174.html');return false;">

          <span class="method-name">Process.gid           => fixnum<br />
Process::GID.rid      => fixnum<br />
Process::Sys.getgid   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the (real) group ID for this process.
</p>
<pre>
   Process.gid   #=&gt; 500
</pre>

        </div>
      </div>


      <div id="method-M003175" class="method-detail">
        <a name="M003175"></a>

        <div class="method-heading">

          <a href="Process.src/M003175.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003175.html');return false;">

          <span class="method-name">Process.gid= fixnum   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Sets the group ID for this process.
</p>

        </div>
      </div>


      <div id="method-M003181" class="method-detail">
        <a name="M003181"></a>

        <div class="method-heading">

          <a href="Process.src/M003181.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003181.html');return false;">

          <span class="method-name">Process.groups   => array<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Get an <tt>Array</tt> of the gids of groups in the supplemental group
access list for this process.
</p>
<pre>
   Process.groups   #=&gt; [27, 6, 10, 11]
</pre>

        </div>
      </div>


      <div id="method-M003182" class="method-detail">
        <a name="M003182"></a>

        <div class="method-heading">

          <a href="Process.src/M003182.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003182.html');return false;">

          <span class="method-name">Process.groups= array   => array<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
<a href="Set.html">Set</a> the supplemental group access list to the given
<tt>Array</tt> of group IDs.
</p>
<pre>
   Process.groups   #=&gt; [0, 1, 2, 3, 4, 6, 10, 11, 20, 26, 27]
   Process.groups = [27, 6, 10, 11]   #=&gt; [27, 6, 10, 11]
   Process.groups   #=&gt; [27, 6, 10, 11]
</pre>

        </div>
      </div>


      <div id="method-M003180" class="method-detail">
        <a name="M003180"></a>

        <div class="method-heading">

          <a href="Process.src/M003180.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003180.html');return false;">

          <span class="method-name">Process.initgroups(username, gid)   => array<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Initializes the supplemental group access list by reading the system group
database and using all groups of which the given user is a member. The
group with the specified <em>gid</em> is also added to the list. Returns
the resulting <tt>Array</tt> of the gids of all the groups in the
supplementary group access list. Not available on all platforms.
</p>
<pre>
   Process.groups   #=&gt; [0, 1, 2, 3, 4, 6, 10, 11, 20, 26, 27]
   Process.initgroups( &quot;mgranger&quot;, 30 )   #=&gt; [30, 6, 10, 11]
   Process.groups   #=&gt; [30, 6, 10, 11]
</pre>

        </div>
      </div>


      <div id="method-M003154" class="method-detail">
        <a name="M003154"></a>

        <div class="method-heading">

          <a href="Process.src/M003154.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003154.html');return false;">

          <span class="method-name">Process.kill(signal, pid, ...)    => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Sends the given signal to the specified process id(s), or to the current
process if <em>pid</em> is zero. <em>signal</em> may be an integer signal
number or a POSIX signal name (either with or without a <tt>SIG</tt>
prefix). If <em>signal</em> is negative (or starts with a minus sign),
kills process groups instead of processes. Not all signals are available on
all platforms.
</p>
<pre>
   pid = fork do
      Signal.trap(&quot;HUP&quot;) { puts &quot;Ouch!&quot;; exit }
      # ... do some work ...
   end
   # ...
   Process.kill(&quot;HUP&quot;, pid)
   Process.wait
</pre>
<p>
<em>produces:</em>
</p>
<pre>
   Ouch!
</pre>

        </div>
      </div>


      <div id="method-M003183" class="method-detail">
        <a name="M003183"></a>

        <div class="method-heading">

          <a href="Process.src/M003183.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003183.html');return false;">

          <span class="method-name">Process.maxgroups   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the maximum number of gids allowed in the supplemental group access
list.
</p>
<pre>
   Process.maxgroups   #=&gt; 32
</pre>

        </div>
      </div>


      <div id="method-M003184" class="method-detail">
        <a name="M003184"></a>

        <div class="method-heading">

          <a href="Process.src/M003184.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003184.html');return false;">

          <span class="method-name">Process.maxgroups= fixnum   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Sets the maximum number of gids allowed in the supplemental group access
list.
</p>

        </div>
      </div>


      <div id="method-M003161" class="method-detail">
        <a name="M003161"></a>

        <div class="method-heading">

          <a href="Process.src/M003161.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003161.html');return false;">

          <span class="method-name">Process.pid   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the process id of this process. Not available on all platforms.
</p>
<pre>
   Process.pid   #=&gt; 27415
</pre>

        </div>
      </div>


      <div id="method-M003162" class="method-detail">
        <a name="M003162"></a>

        <div class="method-heading">

          <a href="Process.src/M003162.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003162.html');return false;">

          <span class="method-name">Process.ppid   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the process id of the parent of this process. Returns untrustworthy
value on Win32/64. Not available on all platforms.
</p>
<pre>
   puts &quot;I am #{Process.pid}&quot;
   Process.fork { puts &quot;Dad is #{Process.ppid}&quot; }
</pre>
<p>
<em>produces:</em>
</p>
<pre>
   I am 27417
   Dad is 27417
</pre>

        </div>
      </div>


      <div id="method-M003166" class="method-detail">
        <a name="M003166"></a>

        <div class="method-heading">

          <a href="Process.src/M003166.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003166.html');return false;">

          <span class="method-name">Process.setpgid(pid, integer)   => 0<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Sets the process group ID of <em>pid</em> (0 indicates this process) to
<em>integer</em>. Not available on all platforms.
</p>

        </div>
      </div>


      <div id="method-M003164" class="method-detail">
        <a name="M003164"></a>

        <div class="method-heading">

          <a href="Process.src/M003164.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003164.html');return false;">

          <span class="method-name">Process.setpgrp   => 0<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Equivalent to <tt>setpgid(0,0)</tt>. Not available on all platforms.
</p>

        </div>
      </div>


      <div id="method-M003169" class="method-detail">
        <a name="M003169"></a>

        <div class="method-heading">

          <a href="Process.src/M003169.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003169.html');return false;">

          <span class="method-name">Process.setpriority(kind, integer, priority)   => 0<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
See <tt><a href="Process.html#M003168">Process#getpriority</a></tt>.
</p>
<pre>
   Process.setpriority(Process::PRIO_USER, 0, 19)      #=&gt; 0
   Process.setpriority(Process::PRIO_PROCESS, 0, 19)   #=&gt; 0
   Process.getpriority(Process::PRIO_USER, 0)          #=&gt; 19
   Process.getpriority(Process::PRIO_PROCESS, 0)       #=&gt; 19
</pre>

        </div>
      </div>


      <div id="method-M003171" class="method-detail">
        <a name="M003171"></a>

        <div class="method-heading">

          <a href="Process.src/M003171.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003171.html');return false;">

          <span class="method-name">Process.setrlimit(resource, cur_limit, max_limit)        => nil<br />
Process.setrlimit(resource, cur_limit)                   => nil<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Sets the resource limit of the process. <em>cur_limit</em> means current
(soft) limit and <em>max_limit</em> means maximum (hard) limit.
</p>
<p>
If <em>max_limit</em> is not given, <em>cur_limit</em> is used.
</p>
<p>
<em>resource</em> indicates the kind of resource to limit. It should be a
symbol such as <tt>:CORE</tt>, a string such as <tt>&quot;CORE&quot;</tt>
or a constant such as <tt>Process::RLIMIT_CORE</tt>. The available
resources are OS dependent. Ruby may support following resources.
</p>
<dl>
<dt>CORE</dt><dd>core size (bytes) (SUSv3)

</dd>
<dt>CPU</dt><dd>CPU time (seconds) (SUSv3)

</dd>
<dt>DATA</dt><dd>data segment (bytes) (SUSv3)

</dd>
<dt>FSIZE</dt><dd>file size (bytes) (SUSv3)

</dd>
<dt>NOFILE</dt><dd>file descriptors (number) (SUSv3)

</dd>
<dt>STACK</dt><dd>stack size (bytes) (SUSv3)

</dd>
<dt>AS</dt><dd>total available memory (bytes) (SUSv3, NetBSD, FreeBSD, OpenBSD but
4.4BSD-Lite)

</dd>
<dt>MEMLOCK</dt><dd>total size for mlock(2) (bytes) (4.4BSD, GNU/Linux)

</dd>
<dt>NPROC</dt><dd>number of processes for the user (number) (4.4BSD, GNU/Linux)

</dd>
<dt><a href="RSS.html">RSS</a></dt><dd>resident memory size (bytes) (4.2BSD, GNU/Linux)

</dd>
<dt>SBSIZE</dt><dd>all socket buffers (bytes) (NetBSD, FreeBSD)

</dd>
</dl>
<p>
<em>cur_limit</em> and <em>max_limit</em> may be <tt>:INFINITY</tt>,
<tt>&quot;INFINITY&quot;</tt> or <tt>Process::RLIM_INFINITY</tt>, which
means that the resource is not limited. They may be
<tt>Process::RLIM_SAVED_MAX</tt>, <tt>Process::RLIM_SAVED_CUR</tt> and
corresponding symbols and strings too. See system setrlimit(2) manual for
details.
</p>
<p>
The following example raise the soft limit of core size to the hard limit
to try to make core dump possible.
</p>
<pre>
  Process.setrlimit(:CORE, Process.getrlimit(:CORE)[1])
</pre>

        </div>
      </div>


      <div id="method-M003167" class="method-detail">
        <a name="M003167"></a>

        <div class="method-heading">

          <a href="Process.src/M003167.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003167.html');return false;">

          <span class="method-name">Process.setsid   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Establishes this process as a new session and process group leader, with no
controlling tty. Returns the session id. Not available on all platforms.
</p>
<pre>
   Process.setsid   #=&gt; 27422
</pre>

        </div>
      </div>


      <div id="method-M003150" class="method-detail">
        <a name="M003150"></a>

        <div class="method-heading">

          <a href="Process.src/M003150.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003150.html');return false;">

          <span class="method-name">spawn([env,] cmd [, arg, ...] [,options])     => pid<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Similar to <tt>Kernel::system</tt> except for not waiting for end of
<em>cmd</em>, but returns its <em>pid</em>.
</p>
<p>
If a hash is given as <tt>env</tt>, the environment is updated by
<tt>env</tt> before <tt>exec(2)</tt> in the child process. If a pair in
<tt>env</tt> has nil as the value, the variable is deleted.
</p>
<pre>
  # set FOO as BAR and unset BAZ.
  pid = spawn({&quot;FOO&quot;=&gt;&quot;BAR&quot;, &quot;BAZ&quot;=&gt;nil}, command)
</pre>
<p>
If a hash is given as <tt>options</tt>, it specifies process group,
resource limit, current directory, umask and redirects for the child
process. Also, it can be specified to clear environment variables.
</p>
<p>
The <tt>:unsetenv_others</tt> key in <tt>options</tt> specifies to clear
environment variables, other than specified by <tt>env</tt>.
</p>
<pre>
  pid = spawn(command, :unsetenv_others=&gt;true) # no environment variable
  pid = spawn({&quot;FOO&quot;=&gt;&quot;BAR&quot;}, command, :unsetenv_others=&gt;true) # FOO only
</pre>
<p>
The <tt>:pgroup</tt> key in <tt>options</tt> specifies a process group. The
corresponding value should be true, zero or positive integer. true and zero
means the process should be a process leader. Other values specifies a
process group to be belongs.
</p>
<pre>
  pid = spawn(command, :pgroup=&gt;true) # process leader
  pid = spawn(command, :pgroup=&gt;10) # belongs to the process group 10
</pre>
<p>
The <tt>:rlimit_</tt><em>foo</em> key specifies a resource limit.
<em>foo</em> should be one of resource types such as <tt>core</tt> The
corresponding value should be an integer or an array which have one or two
integers: same as cur_limit and max_limit arguments for <a
href="Process.html#M003171">Process.setrlimit</a>.
</p>
<pre>
  pid = spawn(command, :rlimit_core=&gt;0) # never dump core.
  cur, max = Process.getrlimit(:CORE)
  pid = spawn(command, :rlimit_core=&gt;[0,max]) # disable core temporary.
  pid = spawn(command, :rlimit_core=&gt;max) # enable core dump
</pre>
<p>
The <tt>:chdir</tt> key in <tt>options</tt> specifies the current
directory.
</p>
<pre>
  pid = spawn(command, :chdir=&gt;&quot;/var/tmp&quot;)
</pre>
<p>
The <tt>:umask</tt> key in <tt>options</tt> specifies the umask.
</p>
<pre>
  pid = spawn(command, :umask=&gt;077)
</pre>
<p>
The :in, :out, :err, a fixnum, an <a href="IO.html">IO</a> and an array key
specifies a redirect. The redirection maps a file descriptor in the child
process.
</p>
<p>
For example, stderr can be merged into stdout:
</p>
<pre>
  pid = spawn(command, :err=&gt;:out)
  pid = spawn(command, STDERR=&gt;STDOUT)
  pid = spawn(command, 2=&gt;1)
</pre>
<p>
The hash keys specifies a file descriptor in the child process started by
<tt>spawn</tt>. :err, STDERR and 2 specifies the standard error stream.
</p>
<p>
The hash values specifies a file descriptor in the parent process which
invokes <tt>spawn</tt>. :out, STDOUT and 1 specifies the standard output
stream.
</p>
<p>
The standard output in the child process is not specified. So it is
inherited from the parent process.
</p>
<p>
The standard input stream can be specifed by :in, STDIN and 0.
</p>
<p>
A filename can be specified as a hash value.
</p>
<pre>
  pid = spawn(command, STDIN=&gt;&quot;/dev/null&quot;) # read mode
  pid = spawn(command, STDOUT=&gt;&quot;/dev/null&quot;) # write mode
  pid = spawn(command, STDERR=&gt;&quot;log&quot;) # write mode
  pid = spawn(command, 3=&gt;&quot;/dev/null&quot;) # read mode
</pre>
<p>
For standard output and standard error, it is opened in write mode.
Otherwise read mode is used.
</p>
<p>
For specifying flags and permission of file creation explicitly, an array
is used instead.
</p>
<pre>
  pid = spawn(command, STDIN=&gt;[&quot;file&quot;]) # read mode is assumed
  pid = spawn(command, STDIN=&gt;[&quot;file&quot;, &quot;r&quot;])
  pid = spawn(command, STDOUT=&gt;[&quot;log&quot;, &quot;w&quot;]) # 0644 assumed
  pid = spawn(command, STDOUT=&gt;[&quot;log&quot;, &quot;w&quot;, 0600])
  pid = spawn(command, STDOUT=&gt;[&quot;log&quot;, File::WRONLY|File::EXCL|File::CREAT, 0600])
</pre>
<p>
The array specifies a filename, flags and permission. The flags can be a
string or an integer. If the flags is ommitted or nil, File::RDONLY is
assumed. The permission should be an integer. If the permission is ommitted
or nil, 0644 is assumed.
</p>
<p>
If an array of IOs and integers are specified as a hash key, all the
elemetns are redirected.
</p>
<pre>
  # standard output and standard error is redirected to log file.
  pid = spawn(command, [STDOUT, STDERR]=&gt;[&quot;log&quot;, &quot;w&quot;])
</pre>
<p>
spawn closes all non-standard unspecified descriptors by default. The
&#8220;standard&#8221; descriptors are 0, 1 and 2. This behavior is
specified by :close_others option. :close_others doesn&#8217;t affect the
standard descriptors which are closed only if :close is specified
explicitly.
</p>
<pre>
  pid = spawn(command, :close_others=&gt;true)  # close 3,4,5,... (default)
  pid = spawn(command, :close_others=&gt;false) # don't close 3,4,5,...
</pre>
<p>
:close_others is true by default for spawn and <a
href="IO.html#M000727">IO.popen</a>.
</p>
<p>
So <a href="IO.html#M000733">IO.pipe</a> and spawn can be used as <a
href="IO.html#M000727">IO.popen</a>.
</p>
<pre>
  # similar to r = IO.popen(command)
  r, w = IO.pipe
  pid = spawn(command, STDOUT=&gt;w)   # r, w is closed in the child process.
  w.close
</pre>
<p>
:close is specified as a hash value to close a fd individualy.
</p>
<pre>
  f = open(foo)
  system(command, f=&gt;:close)        # don't inherit f.
</pre>
<p>
It is also possible to exchange file descriptors.
</p>
<pre>
  pid = spawn(command, STDOUT=&gt;STDERR, STDERR=&gt;STDOUT)
</pre>
<p>
The hash keys specify file descriptors in the child process. The hash
values specifies file descriptors in the parent process. So the above
specifies exchanging STDOUT and STDERR. Internally, <tt>spawn</tt> uses an
extra file descriptor to resolve such cyclic file descriptor mapping.
</p>

        </div>
      </div>


      <div id="method-M003186" class="method-detail">
        <a name="M003186"></a>

        <div class="method-heading">

          <a href="Process.src/M003186.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003186.html');return false;">

          <span class="method-name">Process.times   => aStructTms<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns a <tt>Tms</tt> structure (see <tt>Struct::Tms</tt> on page 388)
that contains user and system CPU times for this process.
</p>
<pre>
   t = Process.times
   [ t.utime, t.stime ]   #=&gt; [0.0, 0.02]
</pre>

        </div>
      </div>


      <div id="method-M003172" class="method-detail">
        <a name="M003172"></a>

        <div class="method-heading">

          <a href="Process.src/M003172.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003172.html');return false;">

          <span class="method-name">Process.uid           => fixnum<br />
Process::UID.rid      => fixnum<br />
Process::Sys.getuid   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the (real) user ID of this process.
</p>
<pre>
   Process.uid   #=&gt; 501
</pre>

        </div>
      </div>


      <div id="method-M003173" class="method-detail">
        <a name="M003173"></a>

        <div class="method-heading">

          <a href="Process.src/M003173.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003173.html');return false;">

          <span class="method-name">Process.uid= integer   => numeric<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Sets the (integer) user ID for this process. Not available on all
platforms.
</p>

        </div>
      </div>


      <div id="method-M003155" class="method-detail">
        <a name="M003155"></a>

        <div class="method-heading">

          <a href="Process.src/M003155.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003155.html');return false;">

          <span class="method-name">Process.wait()                     => fixnum<br />
Process.wait(pid=-1, flags=0)      => fixnum<br />
Process.waitpid(pid=-1, flags=0)   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Waits for a child process to exit, returns its process id, and sets
<tt>$?</tt> to a <tt>Process::Status</tt> object containing information on
that process. Which child it waits on depends on the value of <em>pid</em>:
</p>
<table>
<tr><td valign="top">> 0:</td><td>Waits for the child whose process ID equals <em>pid</em>.

</td></tr>
<tr><td valign="top">0:</td><td>Waits for any child whose process group ID equals that of the calling
process.

</td></tr>
<tr><td valign="top">-1:</td><td>Waits for any child process (the default if no <em>pid</em> is given).

</td></tr>
<tr><td valign="top">< -1:</td><td>Waits for any child whose process group ID equals the absolute value of
<em>pid</em>.

</td></tr>
</table>
<p>
The <em>flags</em> argument may be a logical or of the flag values
<tt>Process::WNOHANG</tt> (do not block if no child available) or
<tt>Process::WUNTRACED</tt> (return stopped children that haven&#8217;t
been reported). Not all flags are available on all platforms, but a flag
value of zero will work on all platforms.
</p>
<p>
Calling this method raises a <tt>SystemError</tt> if there are no child
processes. Not available on all platforms.
</p>
<pre>
   include Process
   fork { exit 99 }                 #=&gt; 27429
   wait                             #=&gt; 27429
   $?.exitstatus                    #=&gt; 99

   pid = fork { sleep 3 }           #=&gt; 27440
   Time.now                         #=&gt; 2008-03-08 19:56:16 +0900
   waitpid(pid, Process::WNOHANG)   #=&gt; nil
   Time.now                         #=&gt; 2008-03-08 19:56:16 +0900
   waitpid(pid, 0)                  #=&gt; 27440
   Time.now                         #=&gt; 2008-03-08 19:56:19 +0900
</pre>

        </div>
      </div>


      <div id="method-M003156" class="method-detail">
        <a name="M003156"></a>

        <div class="method-heading">

          <a href="Process.src/M003156.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003156.html');return false;">

          <span class="method-name">Process.wait2(pid=-1, flags=0)      => [pid, status]<br />
Process.waitpid2(pid=-1, flags=0)   => [pid, status]<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Waits for a child process to exit (see Process::waitpid for exact
semantics) and returns an array containing the process id and the exit
status (a <tt>Process::Status</tt> object) of that child. Raises a
<tt>SystemError</tt> if there are no child processes.
</p>
<pre>
   Process.fork { exit 99 }   #=&gt; 27437
   pid, status = Process.wait2
   pid                        #=&gt; 27437
   status.exitstatus          #=&gt; 99
</pre>

        </div>
      </div>


      <div id="method-M003159" class="method-detail">
        <a name="M003159"></a>

        <div class="method-heading">

          <a href="Process.src/M003159.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003159.html');return false;">

          <span class="method-name">Process.waitall   => [ [pid1,status1], ...]<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Waits for all children, returning an array of <em>pid</em>/<em>status</em>
pairs (where <em>status</em> is a <tt>Process::Status</tt> object).
</p>
<pre>
   fork { sleep 0.2; exit 2 }   #=&gt; 27432
   fork { sleep 0.1; exit 1 }   #=&gt; 27433
   fork {            exit 0 }   #=&gt; 27434
   p Process.waitall
</pre>
<p>
<em>produces</em>:
</p>
<pre>
   [[27434, #&lt;Process::Status: pid=27434,exited(0)&gt;],
    [27433, #&lt;Process::Status: pid=27433,exited(1)&gt;],
    [27432, #&lt;Process::Status: pid=27432,exited(2)&gt;]]
</pre>

        </div>
      </div>


      <div id="method-M003157" class="method-detail">
        <a name="M003157"></a>

        <div class="method-heading">

          <a href="Process.src/M003157.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003157.html');return false;">

          <span class="method-name">Process.wait()                     => fixnum<br />
Process.wait(pid=-1, flags=0)      => fixnum<br />
Process.waitpid(pid=-1, flags=0)   => fixnum<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Waits for a child process to exit, returns its process id, and sets
<tt>$?</tt> to a <tt>Process::Status</tt> object containing information on
that process. Which child it waits on depends on the value of <em>pid</em>:
</p>
<table>
<tr><td valign="top">> 0:</td><td>Waits for the child whose process ID equals <em>pid</em>.

</td></tr>
<tr><td valign="top">0:</td><td>Waits for any child whose process group ID equals that of the calling
process.

</td></tr>
<tr><td valign="top">-1:</td><td>Waits for any child process (the default if no <em>pid</em> is given).

</td></tr>
<tr><td valign="top">< -1:</td><td>Waits for any child whose process group ID equals the absolute value of
<em>pid</em>.

</td></tr>
</table>
<p>
The <em>flags</em> argument may be a logical or of the flag values
<tt>Process::WNOHANG</tt> (do not block if no child available) or
<tt>Process::WUNTRACED</tt> (return stopped children that haven&#8217;t
been reported). Not all flags are available on all platforms, but a flag
value of zero will work on all platforms.
</p>
<p>
Calling this method raises a <tt>SystemError</tt> if there are no child
processes. Not available on all platforms.
</p>
<pre>
   include Process
   fork { exit 99 }                 #=&gt; 27429
   wait                             #=&gt; 27429
   $?.exitstatus                    #=&gt; 99

   pid = fork { sleep 3 }           #=&gt; 27440
   Time.now                         #=&gt; 2008-03-08 19:56:16 +0900
   waitpid(pid, Process::WNOHANG)   #=&gt; nil
   Time.now                         #=&gt; 2008-03-08 19:56:16 +0900
   waitpid(pid, 0)                  #=&gt; 27440
   Time.now                         #=&gt; 2008-03-08 19:56:19 +0900
</pre>

        </div>
      </div>


      <div id="method-M003158" class="method-detail">
        <a name="M003158"></a>

        <div class="method-heading">

          <a href="Process.src/M003158.html" target="Code" class="method-signature"
            onclick="popupCode('Process.src/M003158.html');return false;">

          <span class="method-name">Process.wait2(pid=-1, flags=0)      => [pid, status]<br />
Process.waitpid2(pid=-1, flags=0)   => [pid, status]<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Waits for a child process to exit (see Process::waitpid for exact
semantics) and returns an array containing the process id and the exit
status (a <tt>Process::Status</tt> object) of that child. Raises a
<tt>SystemError</tt> if there are no child processes.
</p>
<pre>
   Process.fork { exit 99 }   #=&gt; 27437
   pid, status = Process.wait2
   pid                        #=&gt; 27437
   status.exitstatus          #=&gt; 99
</pre>

        </div>
      </div>



    </div>




  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
