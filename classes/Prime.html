<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Prime [RDoc Documentation]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Prime</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../files/lib/prime_rb.html">

                lib/prime.rb

                </a>


        <br />

            </td>
        </tr>


        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>

                <a href="Object.html">

                Object

               </a>

            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

    <div id="description">
      <p>
The set of all prime numbers.
</p>
<h2>Example</h2>
<pre>
 Prime.each(100) do |prime|
   p prime  #=&gt; 2, 3, 5, 7, 11, ...., 97
 end
</pre>
<h2>Retrieving the instance</h2>
<p>
<tt>Prime</tt>.new is obsolete. Now <tt>Prime</tt> has the default instance
and you can access it as <tt>Prime</tt>.instance.
</p>
<p>
For convenience, each instance method of <tt>Prime</tt>.instance can be
accessed as a class method of <tt>Prime</tt>.
</p>
<p>
e.g.
</p>
<pre>
 Prime.instance.prime?(2)  #=&gt; true
 Prime.prime?(2)           #=&gt; true
</pre>
<h2>Generators</h2>
<p>
A &#8220;generator&#8221; provides an implementation of enumerating
pseudo-prime numbers and it remembers the position of enumeration and upper
bound. Futhermore, it is a external iterator of prime enumeration which is
compatible to an <a href="Enumerator.html">Enumerator</a>.
</p>
<p>
<tt>Prime</tt>::<tt>PseudoPrimeGenerator</tt> is the base class for
generators. There are few implementations of generator.
</p>
<dl>
<dt><tt>Prime</tt>::<tt>EratosthenesGenerator</tt></dt><dd>Uses eratosthenes&#8217;s sieve.

</dd>
<dt><tt>Prime</tt>::<tt>TrialDivisionGenerator</tt></dt><dd>Uses the trial division method.

</dd>
<dt><tt>Prime</tt>::<tt>Generator23</tt></dt><dd>Generates all positive integers which is not divided by 2 nor 3. This
sequence is very bad as a pseudo-prime sequence. But this is faster and
uses much less memory than other generators. So, it is suitable for
factorizing an integer which is not large but has many prime factors. e.g.
for <a href="Prime.html#M002085">Prime#prime?</a> .

</dd>
</dl>

    </div>

   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M002084">each</a>&nbsp;&nbsp;

        <a href="#M002083">instance</a>&nbsp;&nbsp;

        <a href="#M002086">int_from_prime_division</a>&nbsp;&nbsp;

        <a href="#M002082">new</a>&nbsp;&nbsp;

        <a href="#M002085">prime?</a>&nbsp;&nbsp;

        <a href="#M002087">prime_division</a>&nbsp;&nbsp;

      </div>
    </div>

  </div>

    <!-- if includes -->

    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">

        <span class="include-name"><a href="Enumerable.html">Enumerable</a></span>

        <span class="include-name"><a href="Enumerable.html">Enumerable</a></span>

      </div>
    </div>

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Module <a href="Prime/OldCompatibility.html" class="link">Prime::OldCompatibility</a><br />
Class <a href="Prime/EratosthenesGenerator.html" class="link">Prime::EratosthenesGenerator</a><br />
Class <a href="Prime/EratosthenesSieve.html" class="link">Prime::EratosthenesSieve</a><br />
Class <a href="Prime/Generator23.html" class="link">Prime::Generator23</a><br />
Class <a href="Prime/PseudoPrimeGenerator.html" class="link">Prime::PseudoPrimeGenerator</a><br />
Class <a href="Prime/TrialDivision.html" class="link">Prime::TrialDivision</a><br />
Class <a href="Prime/TrialDivisionGenerator.html" class="link">Prime::TrialDivisionGenerator</a><br />

    </div>




    <!-- if method_list -->

    <div id="methods">

      <h3 class="section-bar">Public Class methods</h3>


      <div id="method-M002083" class="method-detail">
        <a name="M002083"></a>

        <div class="method-heading">

          <a href="Prime.src/M002083.html" target="Code" class="method-signature"
            onclick="popupCode('Prime.src/M002083.html');return false;">

          <span class="method-name">instance</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the default instance of <a href="Prime.html">Prime</a>.
</p>

        </div>
      </div>


      <div id="method-M002082" class="method-detail">
        <a name="M002082"></a>

        <div class="method-heading">

          <a href="Prime.src/M002082.html" target="Code" class="method-signature"
            onclick="popupCode('Prime.src/M002082.html');return false;">

          <span class="method-name">new</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
obsolete. Use <tt>Prime</tt>::<tt>instance</tt> or class methods of
<tt>Prime</tt>.
</p>

        </div>
      </div>


      <h3 class="section-bar">Public Instance methods</h3>


      <div id="method-M002084" class="method-detail">
        <a name="M002084"></a>

        <div class="method-heading">

          <a href="Prime.src/M002084.html" target="Code" class="method-signature"
            onclick="popupCode('Prime.src/M002084.html');return false;">

          <span class="method-name">each</span><span class="method-args">(ubound = nil, generator = EratosthenesGenerator.new, &amp;block)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Iterates the given block over all prime numbers.
</p>
<h2>Parameters</h2>
<table>
<tr><td valign="top"><tt>ubound</tt>:</td><td>Optional. An arbitrary positive number. The upper bound of enumeration. The
method enumerates prime numbers infinitely if <tt>ubound</tt> is nil.

</td></tr>
<tr><td valign="top"><tt>generator</tt>:</td><td>Optional. An implementation of pseudo-prime generator.

</td></tr>
</table>
<h2>Return value</h2>
<p>
An evaluated value of the given block at the last time. Or an enumerator
which is compatible to an <tt>Enumerator</tt> if no block given.
</p>
<h2>Description</h2>
<p>
Calls <tt>block</tt> once for each prime numer, passing the prime as a
parameter.
</p>
<table>
<tr><td valign="top"><tt>ubound</tt>:</td><td>Upper bound of prime numbers. The iterator stops after yields all prime
numbers p <= <tt>ubound</tt>.

</td></tr>
</table>
<h2>Note</h2>
<p>
<tt>Prime</tt>.<tt>new</tt> returns a object extended by
<tt>Prime</tt>::<tt>OldCompatibility</tt> in order to compatibility to Ruby
1.9, and <tt>Prime</tt><a href="Prime.html#M002084">each</a> is overwritten
by <tt>Prime</tt>::<tt>OldCompatibility</tt>#<tt>each</tt>.
</p>
<p>
<tt>Prime</tt>.<tt>new</tt> is now obsolete. Use
<tt>Prime</tt>.<tt>instance</tt>.<tt>each</tt> or simply
<tt>Prime</tt>.<tt>each</tt>.
</p>

        </div>
      </div>


      <div id="method-M002086" class="method-detail">
        <a name="M002086"></a>

        <div class="method-heading">

          <a href="Prime.src/M002086.html" target="Code" class="method-signature"
            onclick="popupCode('Prime.src/M002086.html');return false;">

          <span class="method-name">int_from_prime_division</span><span class="method-args">(pd)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Re-composes a prime factorization and returns the product.
</p>
<h2>Parameters</h2>
<table>
<tr><td valign="top"><tt>pd</tt>:</td><td><a href="Array.html">Array</a> of pairs of integers. The each internal pair
consists of a prime number &#8212; a prime factor &#8212; and a natural
number &#8212; an exponent.

</td></tr>
</table>
<h2>Example</h2>
<p>
For [[p_1, e_1], [p_2, e_2], .&#8230;, [p_n, e_n]], it returns p_1**e_1 *
p_2**e_2 * .&#8230; * p_n**e_n.
</p>
<pre>
 Prime.int_from_prime_division([[2,2], [3,1]])  #=&gt; 12
</pre>

        </div>
      </div>


      <div id="method-M002085" class="method-detail">
        <a name="M002085"></a>

        <div class="method-heading">

          <a href="Prime.src/M002085.html" target="Code" class="method-signature"
            onclick="popupCode('Prime.src/M002085.html');return false;">

          <span class="method-name">prime?</span><span class="method-args">(value, generator = Prime::Generator23.new)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns true if <tt>value</tt> is prime, false for a composite.
</p>
<h2>Parameters</h2>
<table>
<tr><td valign="top"><tt>value</tt>:</td><td>an arbitrary integer to be checked.

</td></tr>
<tr><td valign="top"><tt>generator</tt>:</td><td>optional. A pseudo-prime generator.

</td></tr>
</table>

        </div>
      </div>


      <div id="method-M002087" class="method-detail">
        <a name="M002087"></a>

        <div class="method-heading">

          <a href="Prime.src/M002087.html" target="Code" class="method-signature"
            onclick="popupCode('Prime.src/M002087.html');return false;">

          <span class="method-name">prime_division</span><span class="method-args">(value, generator= Prime::Generator23.new)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the factorization of <tt>value</tt>.
</p>
<h2>Parameters</h2>
<table>
<tr><td valign="top"><tt>value</tt>:</td><td>An arbitrary integer.

</td></tr>
<tr><td valign="top"><tt>generator</tt>:</td><td>Optional. A pseudo-prime generator. <tt>generator</tt>.succ must return the
next pseudo-prime number in the ascendent order. It must generate all prime
numbers, but may generate non prime numbers.

</td></tr>
</table>
<h3>Exceptions</h3>
<table>
<tr><td valign="top"><tt>ZeroDivisionError</tt>:</td><td>when <tt>value</tt> is zero.

</td></tr>
</table>
<h2>Example</h2>
<p>
For an arbitrary integer n = p_1**e_1 * p_2**e_2 * .&#8230; * p_n**e_n, <a
href="Prime.html#M002087">prime_division</a>(n) returns [[p_1, e_1], [p_2,
e_2], .&#8230;, [p_n, e_n]].
</p>
<pre>
 Prime.prime_division(12) #=&gt; [[2,2], [3,1]]
</pre>

        </div>
      </div>



    </div>




  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
