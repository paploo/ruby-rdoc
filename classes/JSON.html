<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: JSON [RDoc Documentation]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">JSON</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../files/ext/json/ext/generator/generator_c.html">

                ext/json/ext/generator/generator.c

                </a>


        <br />


                <a href="../files/ext/json/ext/parser/parser_c.html">

                ext/json/ext/parser/parser.c

                </a>


        <br />


                <a href="../files/ext/json/lib/json/common_rb.html">

                ext/json/lib/json/common.rb

                </a>


        <br />


                <a href="../files/ext/json/lib/json/editor_rb.html">

                ext/json/lib/json/editor.rb

                </a>


        <br />


                <a href="../files/ext/json/lib/json/ext_rb.html">

                ext/json/lib/json/ext.rb

                </a>


        <br />


                <a href="../files/ext/json/lib/json/version_rb.html">

                ext/json/lib/json/version.rb

                </a>


        <br />


                <a href="../files/ext/json/lib/json_rb.html">

                ext/json/lib/json.rb

                </a>


        <br />

            </td>
        </tr>


        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

    <div id="description">
      <pre>
   # ---

   call-seq: source()

   Returns a copy of the current _source_ string, that was used to construct
   this Parser.
   # ---
</pre>
<p>
# = json - <a href="JSON.html">JSON</a> for Ruby # # == Description # #
This is a implementation of the <a href="JSON.html">JSON</a> specification
according to RFC 4627 # (<a
href="http://www.ietf.org/rfc/rfc4627.txt">www.ietf.org/rfc/rfc4627.txt</a>).
Starting from version 1.0.0 on there # will be two variants available: # #
* A pure ruby variant, that relies on the iconv and the stringscan #
extensions, which are both part of the ruby standard library. # * The quite
a bit faster C extension variant, which is in parts implemented # in C and
comes with its own unicode conversion functions and a parser # generated by
the ragel state machine compiler # (<a
href="http://www.cs.queensu.ca/~thurston/ragel">www.cs.queensu.ca/~thurston/ragel</a>).
# # Both variants of the <a href="JSON.html">JSON</a> generator escape all
non-ASCII an control # characters with uXXXX escape sequences, and support
UTF-16 surrogate pairs # in order to be able to generate the whole range of
unicode code points. This # means that generated <a
href="JSON.html">JSON</a> text is encoded as UTF-8 (because ASCII is a
subset # of UTF-8) and at the same time avoids decoding problems for
receiving # endpoints, that don&#8217;t expect UTF-8 encoded texts. On the
negative side this # may lead to a bit longer strings than necessarry. # #
All strings, that are to be encoded as <a href="JSON.html">JSON</a>
strings, should be UTF-8 byte # sequences on the Ruby side. To encode raw
binary strings, that aren&#8217;t UTF-8 # encoded, please use the
to_json_raw_object method of <a href="String.html">String</a> (which
produces # an object, that contains a byte array) and decode the result on
the receiving # endpoint. # # == Author # # Florian Frank <<a
href="mailto:flori@ping.de">flori@ping.de</a>> # # == License # # This
software is distributed under the same license as Ruby itself, see # <a
href="http://www.ruby-lang.org/en/LICENSE.txt.">www.ruby-lang.org/en/LICENSE.txt.</a>
# # == Download # # The latest version of this library can be downloaded at
# # * <a
href="http://rubyforge.org/frs?group_id=953">rubyforge.org/frs?group_id=953</a>
# # Online Documentation should be located at # # * <a
href="http://json.rubyforge.org">json.rubyforge.org</a> # # == Usage # # To
use <a href="JSON.html">JSON</a> you can # require &#8216;json&#8217; # to
load the installed variant (either the extension &#8216;json&#8217; or the
pure # variant &#8216;json_pure&#8217;). If you have installed the
extension variant, you can # pick either the extension variant or the pure
variant by typing # require &#8216;json/ext&#8217; # or # require
&#8216;json/pure&#8217; # # You can choose to load a set of common
additions to ruby core&#8217;s objects if # you # require
&#8216;json/add/core&#8217; # # After requiring this you can, e. g.,
serialise/deserialise Ruby ranges: # # <a href="JSON.html">JSON</a>
JSON(1..10) # => 1..10 # # To find out how to add <a
href="JSON.html">JSON</a> support to other or your own classes, read the #
Examples section below. # # To get the best compatibility to rails&#8217;
<a href="JSON.html">JSON</a> implementation, you can # require
&#8216;json/add/rails&#8217; # # Both of the additions attempt to require
&#8216;json&#8217; (like above) first, if it has # not been required yet. #
# == Speed Comparisons # # I have created some benchmark results (see the
benchmarks/data-p4-3Ghz # subdir of the package) for the JSON-parser to
estimate the speed up in the C # extension: # # Comparing times
(call_time_mean): # 1 ParserBenchmarkExt#parser 900 repeats: #
553.922304770 ( real) -> 21.500x # 0.001805307 # 2
ParserBenchmarkYAML#parser 1000 repeats: # 224.513358139 ( real) -> 8.714x
# 0.004454078 # 3 ParserBenchmarkPure#parser 1000 repeats: # 26.755020642 (
real) -> 1.038x # 0.037376163 # 4 ParserBenchmarkRails#parser 1000 repeats:
# 25.763381731 ( real) -> 1.000x # 0.038814780 # calls/sec ( time) -> speed
covers # secs/call # # In the table above 1 is <a
href="JSON/Ext/Parser.html">JSON::Ext::Parser</a>, 2 is <a
href="YAML.html#M006884">YAML.load</a> with <a href="YAML.html">YAML</a> #
compatbile <a href="JSON.html">JSON</a> document, 3 is is
JSON::Pure::Parser, and 4 is # ActiveSupport::JSON.decode. The
ActiveSupport JSON-decoder converts the # input first to <a
href="YAML.html">YAML</a> and then uses the YAML-parser, the conversion
seems to # slow it down so much that it is only as fast as the
JSON::Pure::Parser! # # If you look at the benchmark data you can see that
this is mostly caused by # the frequent high outliers - the median of the
Rails-parser runs is still # overall smaller than the median of the
JSON::Pure::Parser runs: # # Comparing times (call_time_median): # 1
ParserBenchmarkExt#parser 900 repeats: # 800.592479481 ( real) -> 26.936x #
0.001249075 # 2 ParserBenchmarkYAML#parser 1000 repeats: # 271.002390644 (
real) -> 9.118x # 0.003690004 # 3 ParserBenchmarkRails#parser 1000 repeats:
# 30.227910865 ( real) -> 1.017x # 0.033082008 # 4
ParserBenchmarkPure#parser 1000 repeats: # 29.722384421 ( real) -> 1.000x #
0.033644676 # calls/sec ( time) -> speed covers # secs/call # # I have
benchmarked the JSON-Generator as well. This generated a few more # values,
because there are different modes that also influence the achieved # speed:
# # Comparing times (call_time_mean): # 1
GeneratorBenchmarkExt#generator_fast 1000 repeats: # 547.354332608 ( real)
-> 15.090x # 0.001826970 # 2 GeneratorBenchmarkExt#generator_safe 1000
repeats: # 443.968212317 ( real) -> 12.240x # 0.002252414 # 3
GeneratorBenchmarkExt#generator_pretty 900 repeats: # 375.104545883 ( real)
-> 10.341x # 0.002665923 # 4 GeneratorBenchmarkPure#generator_fast 1000
repeats: # 49.978706968 ( real) -> 1.378x # 0.020008521 # 5
GeneratorBenchmarkRails#generator 1000 repeats: # 38.531868759 ( real) ->
1.062x # 0.025952543 # 6 GeneratorBenchmarkPure#generator_safe 1000
repeats: # 36.927649925 ( real) -> 1.018x 7 (>=3859) # 0.027079979 # 7
GeneratorBenchmarkPure#generator_pretty 1000 repeats: # 36.272134441 (
real) -> 1.000x 6 (>=3859) # 0.027569373 # calls/sec ( time) -> speed
covers # secs/call # # In the table above 1-3 are <a
href="JSON/Ext/Generator.html">JSON::Ext::Generator</a> methods. 4, 6, and
7 are # JSON::Pure::Generator methods and 5 is the Rails <a
href="JSON.html">JSON</a> generator. It is now a # bit faster than the
generator_safe and generator_pretty methods of the pure # variant but
slower than the others. # # To achieve the fastest <a
href="JSON.html">JSON</a> text output, you can use the <a
href="JSON.html#M007046">fast_generate</a> # method. Beware, that this will
disable the checking for circular Ruby data # structures, which may cause
<a href="JSON.html">JSON</a> to go into an infinite loop. # # Here are the
median comparisons for completeness&#8217; sake: # # Comparing times
(call_time_median): # 1 GeneratorBenchmarkExt#generator_fast 1000 repeats:
# 708.258020939 ( real) -> 16.547x # 0.001411915 # 2
GeneratorBenchmarkExt#generator_safe 1000 repeats: # 569.105020353 ( real)
-> 13.296x # 0.001757145 # 3 GeneratorBenchmarkExt#generator_pretty 900
repeats: # 482.825371244 ( real) -> 11.280x # 0.002071142 # 4
GeneratorBenchmarkPure#generator_fast 1000 repeats: # 62.717626652 ( real)
-> 1.465x # 0.015944481 # 5 GeneratorBenchmarkRails#generator 1000 repeats:
# 43.965681162 ( real) -> 1.027x # 0.022745013 # 6
GeneratorBenchmarkPure#generator_safe 1000 repeats: # 43.929073409 ( real)
-> 1.026x 7 (>=3859) # 0.022763968 # 7
GeneratorBenchmarkPure#generator_pretty 1000 repeats: # 42.802514491 (
real) -> 1.000x 6 (>=3859) # 0.023363113 # calls/sec ( time) -> speed
covers # secs/call # # == Examples # # To create a <a
href="JSON.html">JSON</a> text from a ruby data structure, you can call <a
href="JSON.html#M007045">JSON.generate</a> # like that: # # json = <a
href="JSON.html#M007045">JSON.generate</a> [1, 2, {&#8220;a&#8221;=>3.141},
false, true, nil, 4..10] # # =>
&#8220;[1,2,{"a":3.141},false,true,null,"4..10\"]&#8221; # # To create a
valid <a href="JSON.html">JSON</a> text you have to make sure, that the
output is # embedded in either a <a href="JSON.html">JSON</a> array [] or a
<a href="JSON.html">JSON</a> object {}. The easiest way to do # this, is by
putting your values in a Ruby <a href="Array.html">Array</a> or <a
href="Hash.html">Hash</a> instance. # # To get back a ruby data structure
from a <a href="JSON.html">JSON</a> text, you have to call # <a
href="JSON.html#M007043">JSON.parse</a> on it: # # <a
href="JSON.html#M007043">JSON.parse</a> json # # => [1, 2,
{&#8220;a&#8221;=>3.141}, false, true, nil, &#8220;4..10&#8220;] # # Note,
that the range from the original data structure is a simple # string now.
The reason for this is, that <a href="JSON.html">JSON</a> doesn&#8217;t
support ranges # or arbitrary classes. In this case the json library falls
back to call # <a href="Object.html#M000680">Object#to_json</a>, which is
the same as to_s.to_json. # # It&#8217;s possible to add <a
href="JSON.html">JSON</a> support serialization to arbitrary classes by #
simply implementing a more specialized version of the to_json method, that
# should return a <a href="JSON.html">JSON</a> object (a hash converted to
<a href="JSON.html">JSON</a> with to_json) like # this (don&#8217;t forget
the *a for all the arguments): # # class <a href="Range.html">Range</a> #
def to_json(*a) # { # &#8216;json_class&#8217; => self.class.name, # =
&#8216;Range&#8217; # &#8216;data&#8217; => [ first, last, exclude_end? ] #
}.to_json(*a) # end # end # # The hash key &#8216;json_class&#8217; is the
class, that will be asked to deserialise the # <a href="JSON.html">JSON</a>
representation later. In this case it&#8217;s &#8216;Range&#8217;, but any
namespace of # the form &#8216;A::B&#8217; or &#8217;::A::B&#8217; will do.
All other keys are arbitrary and can be # used to store the necessary data
to configure the object to be deserialised. # # If a the key
&#8216;json_class&#8217; is found in a <a href="JSON.html">JSON</a> object,
the <a href="JSON.html">JSON</a> parser checks # if the given class
responds to the json_create class method. If so, it is # called with the <a
href="JSON.html">JSON</a> object converted to a Ruby hash. So a range can #
be deserialised by implementing <a
href="Range.html#M001111">Range.json_create</a> like this: # # class <a
href="Range.html">Range</a> # def self.json_create(o) #
new(*o[&#8216;data&#8217;]) # end # end # # Now it possible to
serialise/deserialise ranges as well: # # json = <a
href="JSON.html#M007045">JSON.generate</a> [1, 2, {&#8220;a&#8221;=>3.141},
false, true, nil, 4..10] # # =>
&#8220;[1,2,{"a":3.141},false,true,null,{"json_class\":"Range","data":[4,10,false]}]&#8221;
# <a href="JSON.html#M007043">JSON.parse</a> json # # => [1, 2,
{&#8220;a&#8221;=>3.141}, false, true, nil, 4..10] # # <a
href="JSON.html#M007045">JSON.generate</a> always creates the shortest
possible string representation of a # ruby data structure in one line. This
good for data storage or network # protocols, but not so good for humans to
read. Fortunately there&#8217;s also # <a
href="JSON.html#M007047">JSON.pretty_generate</a> (or <a
href="JSON.html#M007047">JSON.pretty_generate</a>) that creates a more #
readable output: # # puts <a
href="JSON.html#M007047">JSON.pretty_generate</a>([1, 2,
{&#8220;a&#8221;=>3.141}, false, true, nil, 4..10]) # [ # 1, # 2, # { #
&#8220;a&#8221;: 3.141 # }, # false, # true, # null, # { #
&#8220;json_class&#8220;: &#8220;Range&#8221;, # &#8220;data&#8221;: [ # 4,
# 10, # false # ] # } # ] # # There are also the methods <a
href="Kernel.html#M002791">Kernel#j</a> for generate, and <a
href="Kernel.html#M002792">Kernel#jj</a> for # <a
href="JSON.html#M007047">pretty_generate</a> output to the console, that
work analogous to Core Ruby&#8217;s p # and the pp library&#8217;s pp
methods. # # The script tools/server.rb contains a small example if you
want to test, how # receiving a <a href="JSON.html">JSON</a> object from a
webrick server in your browser with the # javasript prototype library (<a
href="http://www.prototypejs.org">www.prototypejs.org</a>) works. #
</p>

    </div>

   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M007042">[]</a>&nbsp;&nbsp;

        <a href="#M007053">dump</a>&nbsp;&nbsp;

        <a href="#M007055">edit</a>&nbsp;&nbsp;

        <a href="#M007046">fast_generate</a>&nbsp;&nbsp;

        <a href="#M007045">generate</a>&nbsp;&nbsp;

        <a href="#M007048">load</a>&nbsp;&nbsp;

        <a href="#M007043">parse</a>&nbsp;&nbsp;

        <a href="#M007044">parse!</a>&nbsp;&nbsp;

        <a href="#M007047">pretty_generate</a>&nbsp;&nbsp;

        <a href="#M007050">recurse_proc</a>&nbsp;&nbsp;

        <a href="#M007049">recurse_proc</a>&nbsp;&nbsp;

        <a href="#M007051">restore</a>&nbsp;&nbsp;

        <a href="#M007052">restore</a>&nbsp;&nbsp;

        <a href="#M007054">start</a>&nbsp;&nbsp;

      </div>
    </div>

  </div>

    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Module <a href="JSON/Editor.html" class="link">JSON::Editor</a><br />
Module <a href="JSON/Ext.html" class="link">JSON::Ext</a><br />
Module <a href="JSON/Gtk.html" class="link">JSON::Gtk</a><br />
Module <a href="JSON/MenuExtension.html" class="link">JSON::MenuExtension</a><br />
Class <a href="JSON/CircularDatastructure.html" class="link">JSON::CircularDatastructure</a><br />
Class <a href="JSON/EditMenu.html" class="link">JSON::EditMenu</a><br />
Class <a href="JSON/FileMenu.html" class="link">JSON::FileMenu</a><br />
Class <a href="JSON/GeneratorError.html" class="link">JSON::GeneratorError</a><br />
Class <a href="JSON/JSONError.html" class="link">JSON::JSONError</a><br />
Class <a href="JSON/JSONTreeView.html" class="link">JSON::JSONTreeView</a><br />
Class <a href="JSON/MainWindow.html" class="link">JSON::MainWindow</a><br />
Class <a href="JSON/MissingUnicodeSupport.html" class="link">JSON::MissingUnicodeSupport</a><br />
Class <a href="JSON/NestingError.html" class="link">JSON::NestingError</a><br />
Class <a href="JSON/OptionsMenu.html" class="link">JSON::OptionsMenu</a><br />
Class <a href="JSON/ParserError.html" class="link">JSON::ParserError</a><br />
Class <a href="JSON/PopUpMenu.html" class="link">JSON::PopUpMenu</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">NaN</td>
          <td>=</td>
          <td class="context-item-value">(-1.0) ** 0.5</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">Infinity</td>
          <td>=</td>
          <td class="context-item-value">1.0/0</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MinusInfinity</td>
          <td>=</td>
          <td class="context-item-value">-Infinity</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">UnparserError</td>
          <td>=</td>
          <td class="context-item-value">GeneratorError</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
For backwards compatibility

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">JSON_LOADED</td>
          <td>=</td>
          <td class="context-item-value">true</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">VERSION</td>
          <td>=</td>
          <td class="context-item-value">'1.1.4'</td>

          <td>&nbsp;</td>
          <td class="context-item-desc">
<a href="JSON.html">JSON</a> version

</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">VARIANT_BINARY</td>
          <td>=</td>
          <td class="context-item-value">false</td>

        </tr>

        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">create_id</td>

          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>

          <td class="context-item-desc">
This is create identifier, that is used to decide, if the
<em>json_create</em> hook of a class should be called. It defaults to
&#8216;json_class&#8217;.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">generator</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
Returns the <a href="JSON.html">JSON</a> generator modul, that is used by
<a href="JSON.html">JSON</a>. This might be either <a
href="JSON/Ext/Generator.html">JSON::Ext::Generator</a> or
JSON::Pure::Generator.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">parser</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc">
Returns the <a href="JSON.html">JSON</a> parser class, that is used by <a
href="JSON.html">JSON</a>. This might be either <a
href="JSON/Ext/Parser.html">JSON::Ext::Parser</a> or JSON::Pure::Parser.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">state</td>

          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>

          <td class="context-item-desc">
Returns the <a href="JSON.html">JSON</a> generator state class, that is
used by <a href="JSON.html">JSON</a>. This might be either <a
href="JSON/Ext/Generator/State.html">JSON::Ext::Generator::State</a> or
JSON::Pure::Generator::State.

</td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">window</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        </table>
      </div>
    </div>


    <!-- if method_list -->

    <div id="methods">

      <h3 class="section-bar">Public Class methods</h3>


      <div id="method-M007042" class="method-detail">
        <a name="M007042"></a>

        <div class="method-heading">

          <a href="JSON.src/M007042.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007042.html');return false;">

          <span class="method-name">[]</span><span class="method-args">(object, opts = {})</span>

          </a>

        </div>

        <div class="method-description">

          <p>
If <em>object</em> is string-like parse the string and return the parsed
result as a Ruby data structure. Otherwise generate a <a
href="JSON.html">JSON</a> text from the Ruby data structure object and
return it.
</p>
<p>
The <em>opts</em> argument is passed through to generate/parse
respectively, see generate and parse for their documentation.
</p>

        </div>
      </div>


      <div id="method-M007055" class="method-detail">
        <a name="M007055"></a>

        <div class="method-heading">

          <a href="JSON.src/M007055.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007055.html');return false;">

          <span class="method-name">edit</span><span class="method-args">(json, encoding = 'utf8')</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Edit the string <em>json</em> with encoding <em>encoding</em> in the
editor.
</p>

        </div>
      </div>


      <div id="method-M007050" class="method-detail">
        <a name="M007050"></a>

        <div class="method-heading">

          <a href="JSON.src/M007050.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007050.html');return false;">

          <span class="method-name">recurse_proc</span><span class="method-args">(result, &amp;proc)</span>

          </a>

        </div>

        <div class="method-description">

        </div>
      </div>


      <div id="method-M007052" class="method-detail">
        <a name="M007052"></a>

        <div class="method-heading">

          <span class="method-name">restore</span><span class="method-args">(source, proc = nil)</span>

        </div>

        <div class="method-description">

          <p>
Alias for <a href="JSON.html#M007048">load</a>
</p>

        </div>
      </div>


      <div id="method-M007054" class="method-detail">
        <a name="M007054"></a>

        <div class="method-heading">

          <a href="JSON.src/M007054.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007054.html');return false;">

          <span class="method-name">start</span><span class="method-args">(encoding = 'utf8') {|window| ...}</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Starts a <a href="JSON.html">JSON</a> <a
href="JSON/Editor.html">Editor</a>. If a block was given, it yields to the
<a href="JSON/MainWindow.html">JSON::Editor::MainWindow</a> instance.
</p>

        </div>
      </div>


      <h3 class="section-bar">Public Instance methods</h3>


      <div id="method-M007053" class="method-detail">
        <a name="M007053"></a>

        <div class="method-heading">

          <a href="JSON.src/M007053.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007053.html');return false;">

          <span class="method-name">dump</span><span class="method-args">(obj, anIO = nil, limit = nil)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Dumps <em>obj</em> as a <a href="JSON.html">JSON</a> string, i.e. calls
generate on the object and returns the result.
</p>
<p>
If an<a href="IO.html">IO</a> (an <a href="IO.html">IO</a> like object or
an object that responds to the write method) was given, the resulting <a
href="JSON.html">JSON</a> is written to it.
</p>
<p>
If the number of nested arrays or objects exceeds <em>limit</em> an <a
href="ArgumentError.html">ArgumentError</a> exception is raised. This
argument is similar (but not exactly the same!) to the <em>limit</em>
argument in <a href="Marshal.html#M002885">Marshal.dump</a>.
</p>
<p>
This method is part of the implementation of the load/dump interface of <a
href="Marshal.html">Marshal</a> and <a href="YAML.html">YAML</a>.
</p>

        </div>
      </div>


      <div id="method-M007046" class="method-detail">
        <a name="M007046"></a>

        <div class="method-heading">

          <a href="JSON.src/M007046.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007046.html');return false;">

          <span class="method-name">fast_generate</span><span class="method-args">(obj)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Unparse the Ruby data structure <em>obj</em> into a single line <a
href="JSON.html">JSON</a> string and return it. This method disables the
checks for circles in Ruby objects, and also generates NaN, Infinity, and,
-Infinity float values.
</p>
<p>
<b>WARNING</b>: Be careful not to pass any Ruby data structures with
circles as <em>obj</em> argument, because this will cause <a
href="JSON.html">JSON</a> to go into an infinite loop.
</p>

        </div>
      </div>


      <div id="method-M007045" class="method-detail">
        <a name="M007045"></a>

        <div class="method-heading">

          <a href="JSON.src/M007045.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007045.html');return false;">

          <span class="method-name">generate</span><span class="method-args">(obj, state = nil)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Unparse the Ruby data structure <em>obj</em> into a single line <a
href="JSON.html">JSON</a> string and return it. <em>state</em> is
</p>
<ul>
<li>a JSON::State object,

</li>
<li>or a <a href="Hash.html">Hash</a> like object (responding to to_hash),

</li>
<li>an object convertible into a hash by a to_h method,

</li>
</ul>
<p>
that is used as or to configure a State object.
</p>
<p>
It defaults to a state object, that creates the shortest possible <a
href="JSON.html">JSON</a> text in one line, checks for circular data
structures and doesn&#8217;t allow NaN, Infinity, and -Infinity.
</p>
<p>
A <em>state</em> hash can have the following keys:
</p>
<ul>
<li><b>indent</b>: a string used to indent levels (default: &#8217;&#8217;),

</li>
<li><b>space</b>: a string that is put after, a : or , delimiter (default:
&#8217;&#8217;),

</li>
<li><b>space_before</b>: a string that is put before a : pair delimiter
(default: &#8217;&#8217;),

</li>
<li><b>object_nl</b>: a string that is put at the end of a <a
href="JSON.html">JSON</a> object (default: &#8217;&#8217;),

</li>
<li><b>array_nl</b>: a string that is put at the end of a <a
href="JSON.html">JSON</a> array (default: &#8217;&#8217;),

</li>
<li><b>check_circular</b>: true if checking for circular data structures should
be done (the default), false otherwise.

</li>
<li><b>allow_nan</b>: true if NaN, Infinity, and -Infinity should be generated,
otherwise an exception is thrown, if these values are encountered. This
options defaults to false.

</li>
<li><b>max_nesting</b>: The maximum depth of nesting allowed in the data
structures from which <a href="JSON.html">JSON</a> is to be generated.
Disable depth checking with :max_nesting => false, it defaults to 19.

</li>
</ul>
<p>
See also the <a href="JSON.html#M007046">fast_generate</a> for the fastest
creation method with the least amount of sanity checks, and the <a
href="JSON.html#M007047">pretty_generate</a> method for some defaults for a
pretty output.
</p>

        </div>
      </div>


      <div id="method-M007048" class="method-detail">
        <a name="M007048"></a>

        <div class="method-heading">

          <a href="JSON.src/M007048.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007048.html');return false;">

          <span class="method-name">load</span><span class="method-args">(source, proc = nil)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Load a ruby data structure from a <a href="JSON.html">JSON</a>
<em>source</em> and return it. A source can either be a string-like object,
an <a href="IO.html">IO</a> like object, or an object responding to the
read method. If <em>proc</em> was given, it will be called with any nested
Ruby object as an argument recursively in depth first order.
</p>
<p>
This method is part of the implementation of the load/dump interface of <a
href="Marshal.html">Marshal</a> and <a href="YAML.html">YAML</a>.
</p>

        </div>
      </div>


      <div id="method-M007043" class="method-detail">
        <a name="M007043"></a>

        <div class="method-heading">

          <a href="JSON.src/M007043.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007043.html');return false;">

          <span class="method-name">parse</span><span class="method-args">(source, opts = {})</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Parse the <a href="JSON.html">JSON</a> string <em>source</em> into a Ruby
data structure and return it.
</p>
<p>
<em>opts</em> can have the following keys:
</p>
<ul>
<li><b>max_nesting</b>: The maximum depth of nesting allowed in the parsed data
structures. Disable depth checking with :max_nesting => false, it defaults
to 19.

</li>
<li><b>allow_nan</b>: If set to true, allow NaN, Infinity and -Infinity in
defiance of RFC 4627 to be parsed by the Parser. This option defaults to
false.

</li>
<li><b>create_additions</b>: If set to false, the Parser doesn&#8217;t create
additions even if a matchin class and create_id was found. This option
defaults to true.

</li>
</ul>

        </div>
      </div>


      <div id="method-M007044" class="method-detail">
        <a name="M007044"></a>

        <div class="method-heading">

          <a href="JSON.src/M007044.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007044.html');return false;">

          <span class="method-name">parse!</span><span class="method-args">(source, opts = {})</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Parse the <a href="JSON.html">JSON</a> string <em>source</em> into a Ruby
data structure and return it. The bang version of the parse method,
defaults to the more dangerous values for the <em>opts</em> hash, so be
sure only to parse trusted <em>source</em> strings.
</p>
<p>
<em>opts</em> can have the following keys:
</p>
<ul>
<li><b>max_nesting</b>: The maximum depth of nesting allowed in the parsed data
structures. Enable depth checking with :max_nesting => an<a
href="Integer.html">Integer</a>. The parse! methods defaults to not doing
max depth checking: This can be dangerous, if someone wants to fill up your
stack.

</li>
<li><b>allow_nan</b>: If set to true, allow NaN, Infinity, and -Infinity in
defiance of RFC 4627 to be parsed by the Parser. This option defaults to
true.

</li>
<li><b>create_additions</b>: If set to false, the Parser doesn&#8217;t create
additions even if a matchin class and create_id was found. This option
defaults to true.

</li>
</ul>

        </div>
      </div>


      <div id="method-M007047" class="method-detail">
        <a name="M007047"></a>

        <div class="method-heading">

          <a href="JSON.src/M007047.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007047.html');return false;">

          <span class="method-name">pretty_generate</span><span class="method-args">(obj, opts = nil)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Unparse the Ruby data structure <em>obj</em> into a <a
href="JSON.html">JSON</a> string and return it. The returned string is a
prettier form of the string returned by unparse.
</p>
<p>
The <em>opts</em> argument can be used to configure the generator, see the
generate method for a more detailed explanation.
</p>

        </div>
      </div>


      <h3 class="section-bar">Private Instance methods</h3>


      <div id="method-M007049" class="method-detail">
        <a name="M007049"></a>

        <div class="method-heading">

          <a href="JSON.src/M007049.html" target="Code" class="method-signature"
            onclick="popupCode('JSON.src/M007049.html');return false;">

          <span class="method-name">recurse_proc</span><span class="method-args">(result, &amp;proc)</span>

          </a>

        </div>

        <div class="method-description">

        </div>
      </div>


      <div id="method-M007051" class="method-detail">
        <a name="M007051"></a>

        <div class="method-heading">

          <span class="method-name">restore</span><span class="method-args">(source, proc = nil)</span>

        </div>

        <div class="method-description">

          <p>
Alias for <a href="JSON.html#M007048">load</a>
</p>

        </div>
      </div>



    </div>




  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
