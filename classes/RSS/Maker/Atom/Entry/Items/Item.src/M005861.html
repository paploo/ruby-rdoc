<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>_set_default_values (RSS::Maker::Atom::Entry::Items::Item)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" href="../../../../../../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre>     <span class="ruby-comment cmt"># File lib/rss/maker/entry.rb, line 102</span>
102:             <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_set_default_values</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
103:               <span class="ruby-identifier">keep</span> = {
104:                 <span class="ruby-identifier">:authors</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">dup</span>,
105:                 <span class="ruby-identifier">:contributors</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">contributors</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">dup</span>,
106:                 <span class="ruby-identifier">:categories</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">categories</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">dup</span>,
107:                 <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">id</span>,
108:                 <span class="ruby-identifier">:links</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">links</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">dup</span>,
109:                 <span class="ruby-identifier">:rights</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@rights</span>,
110:                 <span class="ruby-identifier">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@title</span>,
111:                 <span class="ruby-identifier">:updated</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">updated</span>,
112:               }
113:               <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-ivar">@maker</span>.<span class="ruby-identifier">channel</span>.<span class="ruby-identifier">authors</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:authors</span>].<span class="ruby-identifier">empty?</span>
114:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:contributors</span>].<span class="ruby-identifier">empty?</span>
115:                 <span class="ruby-identifier">contributors</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-ivar">@maker</span>.<span class="ruby-identifier">channel</span>.<span class="ruby-identifier">contributors</span>)
116:               <span class="ruby-keyword kw">end</span>
117:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:categories</span>].<span class="ruby-identifier">empty?</span>
118:                 <span class="ruby-identifier">categories</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-ivar">@maker</span>.<span class="ruby-identifier">channel</span>.<span class="ruby-identifier">categories</span>)
119:               <span class="ruby-keyword kw">end</span>
120:               <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">link</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@maker</span>.<span class="ruby-identifier">channel</span>.<span class="ruby-identifier">id</span>
121:               <span class="ruby-identifier">links</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-ivar">@maker</span>.<span class="ruby-identifier">channel</span>.<span class="ruby-identifier">links</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:links</span>].<span class="ruby-identifier">empty?</span>
122:               <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:rights</span>].<span class="ruby-identifier">variable_is_set?</span>
123:                 <span class="ruby-ivar">@maker</span>.<span class="ruby-identifier">channel</span>.<span class="ruby-identifier">rights</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@rights</span> = <span class="ruby-identifier">r</span>}
124:               <span class="ruby-keyword kw">end</span>
125:               <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:title</span>].<span class="ruby-identifier">variable_is_set?</span>
126:                 <span class="ruby-ivar">@maker</span>.<span class="ruby-identifier">channel</span>.<span class="ruby-identifier">title</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@title</span> = <span class="ruby-identifier">t</span>}
127:               <span class="ruby-keyword kw">end</span>
128:               <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">updated</span> <span class="ruby-operator">||=</span> <span class="ruby-ivar">@maker</span>.<span class="ruby-identifier">channel</span>.<span class="ruby-identifier">updated</span>
129:               <span class="ruby-keyword kw">super</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
130:             <span class="ruby-keyword kw">ensure</span>
131:               <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:authors</span>])
132:               <span class="ruby-identifier">contributors</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:contributors</span>])
133:               <span class="ruby-identifier">categories</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:categories</span>])
134:               <span class="ruby-identifier">links</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:links</span>])
135:               <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">id</span> = <span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:id</span>]
136:               <span class="ruby-ivar">@rights</span> = <span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:rights</span>]
137:               <span class="ruby-ivar">@title</span> = <span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:title</span>]
138:               <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">updated</span> = <span class="ruby-identifier">keep</span>[<span class="ruby-identifier">:updated</span>]
139:             <span class="ruby-keyword kw">end</span></pre>
</body>
</html>
