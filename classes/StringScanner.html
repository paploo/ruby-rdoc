<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: StringScanner [RDoc Documentation]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">StringScanner</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../files/ext/strscan/strscan_c.html">

                ext/strscan/strscan.c

                </a>


        <br />

            </td>
        </tr>


        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>

                <a href="Object.html">

                Object

               </a>

            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

    <div id="description">
      <p>
<a href="StringScanner.html">StringScanner</a> provides for lexical
scanning operations on a <a href="String.html">String</a>. Here is an
example of its usage:
</p>
<pre>
  s = StringScanner.new('This is an example string')
  s.eos?               # -&gt; false

  p s.scan(/\w+/)      # -&gt; &quot;This&quot;
  p s.scan(/\w+/)      # -&gt; nil
  p s.scan(/\s+/)      # -&gt; &quot; &quot;
  p s.scan(/\s+/)      # -&gt; nil
  p s.scan(/\w+/)      # -&gt; &quot;is&quot;
  s.eos?               # -&gt; false

  p s.scan(/\s+/)      # -&gt; &quot; &quot;
  p s.scan(/\w+/)      # -&gt; &quot;an&quot;
  p s.scan(/\s+/)      # -&gt; &quot; &quot;
  p s.scan(/\w+/)      # -&gt; &quot;example&quot;
  p s.scan(/\s+/)      # -&gt; &quot; &quot;
  p s.scan(/\w+/)      # -&gt; &quot;string&quot;
  s.eos?               # -&gt; true

  p s.scan(/\s+/)      # -&gt; nil
  p s.scan(/\w+/)      # -&gt; nil
</pre>
<p>
Scanning a string means remembering the position of a <em>scan
pointer</em>, which is just an index. The point of scanning is to move
forward a bit at a time, so matches are sought after the scan pointer;
usually immediately after it.
</p>
<p>
Given the string &#8220;test string&#8221;, here are the pertinent scan
pointer positions:
</p>
<pre>
    t e s t   s t r i n g
  0 1 2 ...             1
                        0
</pre>
<p>
When you <a href="StringScanner.html#M002580">scan</a> for a pattern (a
regular expression), the match must occur at the character after the scan
pointer. If you use <a href="StringScanner.html#M002585">scan_until</a>,
then the match can occur anywhere after the scan pointer. In both cases,
the scan pointer moves <em>just beyond</em> the last character of the
match, ready to scan again from the next character onwards. This is
demonstrated by the example above.
</p>
<h2><a href="Method.html">Method</a> Categories</h2>
<p>
There are other methods besides the plain scanners. You can look ahead in
the string without actually scanning. You can access the most recent match.
You can modify the string being scanned, reset or terminate the scanner,
find out or change the position of the scan pointer, skip ahead, and so on.
</p>
<h3>Advancing the Scan Pointer</h3>
<ul>
<li><a href="StringScanner.html#M002590">getch</a>

</li>
<li><a href="StringScanner.html#M002591">get_byte</a>

</li>
<li><a href="StringScanner.html#M002580">scan</a>

</li>
<li><a href="StringScanner.html#M002585">scan_until</a>

</li>
<li><a href="StringScanner.html#M002581">skip</a>

</li>
<li><a href="StringScanner.html#M002586">skip_until</a>

</li>
</ul>
<h3>Looking Ahead</h3>
<ul>
<li><a href="StringScanner.html#M002583">check</a>

</li>
<li><a href="StringScanner.html#M002588">check_until</a>

</li>
<li><a href="StringScanner.html#M002587">exist?</a>

</li>
<li><a href="StringScanner.html#M002582">match?</a>

</li>
<li><a href="StringScanner.html#M002593">peek</a>

</li>
</ul>
<h3>Finding Where we Are</h3>
<ul>
<li><a href="StringScanner.html#M002596">beginning_of_line?</a> (bol?)

</li>
<li><a href="StringScanner.html#M002597">eos?</a>

</li>
<li><a href="StringScanner.html#M002599">rest?</a>

</li>
<li><a href="StringScanner.html#M002608">rest_size</a>

</li>
<li><a href="StringScanner.html#M002576">pos</a>

</li>
</ul>
<h3>Setting Where we Are</h3>
<ul>
<li><a href="StringScanner.html#M002569">reset</a>

</li>
<li><a href="StringScanner.html#M002570">terminate</a>

</li>
<li><a href="StringScanner.html#M002577">pos=</a>

</li>
</ul>
<h3>Match <a href="Data.html">Data</a></h3>
<ul>
<li><a href="StringScanner.html#M002601">matched</a>

</li>
<li><a href="StringScanner.html#M002600">matched?</a>

</li>
<li><a href="StringScanner.html#M002602">matched_size</a>

</li>
<li>[]

</li>
<li><a href="StringScanner.html#M002605">pre_match</a>

</li>
<li><a href="StringScanner.html#M002606">post_match</a>

</li>
</ul>
<h3>Miscellaneous</h3>
<ul>
<li><<

</li>
<li><a href="StringScanner.html#M002574">concat</a>

</li>
<li><a href="StringScanner.html#M002572">string</a>

</li>
<li><a href="StringScanner.html#M002573">string=</a>

</li>
<li><a href="StringScanner.html#M002595">unscan</a>

</li>
</ul>
<p>
There are aliases to several of the methods.
</p>

    </div>

   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M002575">&lt;&lt;</a>&nbsp;&nbsp;

        <a href="#M002604">[]</a>&nbsp;&nbsp;

        <a href="#M002596">beginning_of_line?</a>&nbsp;&nbsp;

        <a href="#M002583">check</a>&nbsp;&nbsp;

        <a href="#M002588">check_until</a>&nbsp;&nbsp;

        <a href="#M002571">clear</a>&nbsp;&nbsp;

        <a href="#M002574">concat</a>&nbsp;&nbsp;

        <a href="#M002598">empty?</a>&nbsp;&nbsp;

        <a href="#M002597">eos?</a>&nbsp;&nbsp;

        <a href="#M002587">exist?</a>&nbsp;&nbsp;

        <a href="#M002591">get_byte</a>&nbsp;&nbsp;

        <a href="#M002592">getbyte</a>&nbsp;&nbsp;

        <a href="#M002590">getch</a>&nbsp;&nbsp;

        <a href="#M002567">initialize_copy</a>&nbsp;&nbsp;

        <a href="#M002610">inspect</a>&nbsp;&nbsp;

        <a href="#M002582">match?</a>&nbsp;&nbsp;

        <a href="#M002601">matched</a>&nbsp;&nbsp;

        <a href="#M002600">matched?</a>&nbsp;&nbsp;

        <a href="#M002602">matched_size</a>&nbsp;&nbsp;

        <a href="#M002603">matchedsize</a>&nbsp;&nbsp;

        <a href="#M002568">must_C_version</a>&nbsp;&nbsp;

        <a href="#M002566">new</a>&nbsp;&nbsp;

        <a href="#M002593">peek</a>&nbsp;&nbsp;

        <a href="#M002594">peep</a>&nbsp;&nbsp;

        <a href="#M002578">pointer</a>&nbsp;&nbsp;

        <a href="#M002579">pointer=</a>&nbsp;&nbsp;

        <a href="#M002576">pos</a>&nbsp;&nbsp;

        <a href="#M002577">pos=</a>&nbsp;&nbsp;

        <a href="#M002606">post_match</a>&nbsp;&nbsp;

        <a href="#M002605">pre_match</a>&nbsp;&nbsp;

        <a href="#M002569">reset</a>&nbsp;&nbsp;

        <a href="#M002607">rest</a>&nbsp;&nbsp;

        <a href="#M002599">rest?</a>&nbsp;&nbsp;

        <a href="#M002608">rest_size</a>&nbsp;&nbsp;

        <a href="#M002609">restsize</a>&nbsp;&nbsp;

        <a href="#M002580">scan</a>&nbsp;&nbsp;

        <a href="#M002584">scan_full</a>&nbsp;&nbsp;

        <a href="#M002585">scan_until</a>&nbsp;&nbsp;

        <a href="#M002589">search_full</a>&nbsp;&nbsp;

        <a href="#M002581">skip</a>&nbsp;&nbsp;

        <a href="#M002586">skip_until</a>&nbsp;&nbsp;

        <a href="#M002572">string</a>&nbsp;&nbsp;

        <a href="#M002573">string=</a>&nbsp;&nbsp;

        <a href="#M002570">terminate</a>&nbsp;&nbsp;

        <a href="#M002595">unscan</a>&nbsp;&nbsp;

      </div>
    </div>

  </div>

    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Class <a href="StringScanner/Error.html" class="link">StringScanner::Error</a><br />

    </div>




    <!-- if method_list -->

    <div id="methods">

      <h3 class="section-bar">Public Class methods</h3>


      <div id="method-M002568" class="method-detail">
        <a name="M002568"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002568.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002568.html');return false;">

          <span class="method-name"> StringScanner.must_C_version<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
This method is defined for backward compatibility.
</p>

        </div>
      </div>


      <div id="method-M002566" class="method-detail">
        <a name="M002566"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002566.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002566.html');return false;">

          <span class="method-name"> StringScanner.new(string, dup = false)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Creates a new <a href="StringScanner.html">StringScanner</a> object to scan
over the given <tt>string</tt>. <tt>dup</tt> argument is obsolete and not
used now.
</p>

        </div>
      </div>


      <h3 class="section-bar">Public Instance methods</h3>


      <div id="method-M002575" class="method-detail">
        <a name="M002575"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002575.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002575.html');return false;">

          <span class="method-name">concat(str)<br />
<<(str)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Appends <tt>str</tt> to the string being scanned. This method does not
affect scan pointer.
</p>
<pre>
  s = StringScanner.new(&quot;Fri Dec 12 1975 14:39&quot;)
  s.scan(/Fri /)
  s &lt;&lt; &quot; +1000 GMT&quot;
  s.string            # -&gt; &quot;Fri Dec 12 1975 14:39 +1000 GMT&quot;
  s.scan(/Dec/)       # -&gt; &quot;Dec&quot;
</pre>

        </div>
      </div>


      <div id="method-M002604" class="method-detail">
        <a name="M002604"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002604.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002604.html');return false;">

          <span class="method-name"> [](n)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Return the n-th subgroup in the most recent match.
</p>
<pre>
  s = StringScanner.new(&quot;Fri Dec 12 1975 14:39&quot;)
  s.scan(/(\w+) (\w+) (\d+) /)       # -&gt; &quot;Fri Dec 12 &quot;
  s[0]                               # -&gt; &quot;Fri Dec 12 &quot;
  s[1]                               # -&gt; &quot;Fri&quot;
  s[2]                               # -&gt; &quot;Dec&quot;
  s[3]                               # -&gt; &quot;12&quot;
  s.post_match                       # -&gt; &quot;1975 14:39&quot;
  s.pre_match                        # -&gt; &quot;&quot;
</pre>

        </div>
      </div>


      <div id="method-M002596" class="method-detail">
        <a name="M002596"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002596.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002596.html');return false;">

          <span class="method-name">beginning_of_line?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns <tt>true</tt> iff the scan pointer is at the beginning of the line.
</p>
<pre>
  s = StringScanner.new(&quot;test\ntest\n&quot;)
  s.bol?           # =&gt; true
  s.scan(/te/)
  s.bol?           # =&gt; false
  s.scan(/st\n/)
  s.bol?           # =&gt; true
  s.terminate
  s.bol?           # =&gt; true
</pre>

        </div>
      </div>


      <div id="method-M002583" class="method-detail">
        <a name="M002583"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002583.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002583.html');return false;">

          <span class="method-name"> check(pattern)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
This returns the value that <a href="StringScanner.html#M002580">scan</a>
would return, without advancing the scan pointer. The match register is
affected, though.
</p>
<pre>
  s = StringScanner.new(&quot;Fri Dec 12 1975 14:39&quot;)
  s.check /Fri/               # -&gt; &quot;Fri&quot;
  s.pos                       # -&gt; 0
  s.matched                   # -&gt; &quot;Fri&quot;
  s.check /12/                # -&gt; nil
  s.matched                   # -&gt; nil
</pre>
<p>
Mnemonic: it &#8220;checks&#8221; to see whether a <a
href="StringScanner.html#M002580">scan</a> will return a value.
</p>

        </div>
      </div>


      <div id="method-M002588" class="method-detail">
        <a name="M002588"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002588.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002588.html');return false;">

          <span class="method-name"> check_until(pattern)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
This returns the value that <a
href="StringScanner.html#M002585">scan_until</a> would return, without
advancing the scan pointer. The match register is affected, though.
</p>
<pre>
  s = StringScanner.new(&quot;Fri Dec 12 1975 14:39&quot;)
  s.check_until /12/          # -&gt; &quot;Fri Dec 12&quot;
  s.pos                       # -&gt; 0
  s.matched                   # -&gt; 12
</pre>
<p>
Mnemonic: it &#8220;checks&#8221; to see whether a <a
href="StringScanner.html#M002585">scan_until</a> will return a value.
</p>

        </div>
      </div>


      <div id="method-M002571" class="method-detail">
        <a name="M002571"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002571.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002571.html');return false;">

          <span class="method-name">clear</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Equivalent to <a href="StringScanner.html#M002570">terminate</a>. This
method is obsolete; use <a href="StringScanner.html#M002570">terminate</a>
instead.
</p>

        </div>
      </div>


      <div id="method-M002574" class="method-detail">
        <a name="M002574"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002574.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002574.html');return false;">

          <span class="method-name">concat(str)<br />
<<(str)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Appends <tt>str</tt> to the string being scanned. This method does not
affect scan pointer.
</p>
<pre>
  s = StringScanner.new(&quot;Fri Dec 12 1975 14:39&quot;)
  s.scan(/Fri /)
  s &lt;&lt; &quot; +1000 GMT&quot;
  s.string            # -&gt; &quot;Fri Dec 12 1975 14:39 +1000 GMT&quot;
  s.scan(/Dec/)       # -&gt; &quot;Dec&quot;
</pre>

        </div>
      </div>


      <div id="method-M002598" class="method-detail">
        <a name="M002598"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002598.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002598.html');return false;">

          <span class="method-name">empty?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Equivalent to <a href="StringScanner.html#M002597">eos?</a>. This method is
obsolete, use <a href="StringScanner.html#M002597">eos?</a> instead.
</p>

        </div>
      </div>


      <div id="method-M002597" class="method-detail">
        <a name="M002597"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002597.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002597.html');return false;">

          <span class="method-name">eos?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns <tt>true</tt> if the scan pointer is at the end of the string.
</p>
<pre>
  s = StringScanner.new('test string')
  p s.eos?          # =&gt; false
  s.scan(/test/)
  p s.eos?          # =&gt; false
  s.terminate
  p s.eos?          # =&gt; true
</pre>

        </div>
      </div>


      <div id="method-M002587" class="method-detail">
        <a name="M002587"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002587.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002587.html');return false;">

          <span class="method-name"> exist?(pattern)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Looks <em>ahead</em> to see if the <tt>pattern</tt> exists
<em>anywhere</em> in the string, without advancing the scan pointer. This
predicates whether a <a href="StringScanner.html#M002585">scan_until</a>
will return a value.
</p>
<pre>
  s = StringScanner.new('test string')
  s.exist? /s/            # -&gt; 3
  s.scan /test/           # -&gt; &quot;test&quot;
  s.exist? /s/            # -&gt; 2
  s.exist? /e/            # -&gt; nil
</pre>

        </div>
      </div>


      <div id="method-M002591" class="method-detail">
        <a name="M002591"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002591.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002591.html');return false;">

          <span class="method-name">get_byte</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Scans one byte and returns it. This method is not multibyte character
sensitive. See also: <a href="StringScanner.html#M002590">getch</a>.
</p>
<pre>
  s = StringScanner.new('ab')
  s.get_byte         # =&gt; &quot;a&quot;
  s.get_byte         # =&gt; &quot;b&quot;
  s.get_byte         # =&gt; nil

  $KCODE = 'EUC'
  s = StringScanner.new(&quot;\244\242&quot;)
  s.get_byte         # =&gt; &quot;\244&quot;
  s.get_byte         # =&gt; &quot;\242&quot;
  s.get_byte         # =&gt; nil
</pre>

        </div>
      </div>


      <div id="method-M002592" class="method-detail">
        <a name="M002592"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002592.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002592.html');return false;">

          <span class="method-name">getbyte</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Equivalent to <a href="StringScanner.html#M002591">get_byte</a>. This
method is obsolete; use <a href="StringScanner.html#M002591">get_byte</a>
instead.
</p>

        </div>
      </div>


      <div id="method-M002590" class="method-detail">
        <a name="M002590"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002590.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002590.html');return false;">

          <span class="method-name">getch</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Scans one character and returns it. This method is multibyte character
sensitive.
</p>
<pre>
  s = StringScanner.new(&quot;ab&quot;)
  s.getch           # =&gt; &quot;a&quot;
  s.getch           # =&gt; &quot;b&quot;
  s.getch           # =&gt; nil

  $KCODE = 'EUC'
  s = StringScanner.new(&quot;\244\242&quot;)
  s.getch           # =&gt; &quot;\244\242&quot;   # Japanese hira-kana &quot;A&quot; in EUC-JP
  s.getch           # =&gt; nil
</pre>

        </div>
      </div>


      <div id="method-M002567" class="method-detail">
        <a name="M002567"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002567.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002567.html');return false;">

          <span class="method-name">dup<br />
clone<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Duplicates a <a href="StringScanner.html">StringScanner</a> object.
</p>

        </div>
      </div>


      <div id="method-M002610" class="method-detail">
        <a name="M002610"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002610.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002610.html');return false;">

          <span class="method-name">inspect</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns a string that represents the <a
href="StringScanner.html">StringScanner</a> object, showing:
</p>
<ul>
<li>the current position

</li>
<li>the size of the string

</li>
<li>the characters surrounding the scan pointer

<p>
s = <a href="StringScanner.html#M002566">StringScanner.new</a>(&#8220;Fri
Dec 12 1975 14:39&#8221;) s.inspect # -> &#8217;#<<a
href="StringScanner.html">StringScanner</a> 0/21 @ &#8220;Fri
D&#8230;&#8221;>&#8217; s.scan_until /12/ # -> &#8220;Fri Dec 12&#8221;
s.inspect # -> &#8217;#<<a href="StringScanner.html">StringScanner</a>
10/21 &#8220;&#8230;ec 12&#8221; @ &#8220; 1975...&#8220;>&#8217;
</p>
</li>
</ul>

        </div>
      </div>


      <div id="method-M002582" class="method-detail">
        <a name="M002582"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002582.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002582.html');return false;">

          <span class="method-name"> match?(pattern)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Tests whether the given <tt>pattern</tt> is matched from the current scan
pointer. Returns the length of the match, or <tt>nil</tt>. The scan pointer
is not advanced.
</p>
<pre>
  s = StringScanner.new('test string')
  p s.match?(/\w+/)   # -&gt; 4
  p s.match?(/\w+/)   # -&gt; 4
  p s.match?(/\s+/)   # -&gt; nil
</pre>

        </div>
      </div>


      <div id="method-M002601" class="method-detail">
        <a name="M002601"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002601.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002601.html');return false;">

          <span class="method-name">matched</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the last matched string.
</p>
<pre>
  s = StringScanner.new('test string')
  s.match?(/\w+/)     # -&gt; 4
  s.matched           # -&gt; &quot;test&quot;
</pre>

        </div>
      </div>


      <div id="method-M002600" class="method-detail">
        <a name="M002600"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002600.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002600.html');return false;">

          <span class="method-name">matched?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns <tt>true</tt> iff the last match was successful.
</p>
<pre>
  s = StringScanner.new('test string')
  s.match?(/\w+/)     # =&gt; 4
  s.matched?          # =&gt; true
  s.match?(/\d+/)     # =&gt; nil
  s.matched?          # =&gt; false
</pre>

        </div>
      </div>


      <div id="method-M002602" class="method-detail">
        <a name="M002602"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002602.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002602.html');return false;">

          <span class="method-name">matched_size</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the size of the most recent match (see <a
href="StringScanner.html#M002601">matched</a>), or <tt>nil</tt> if there
was no recent match.
</p>
<pre>
  s = StringScanner.new('test string')
  s.check /\w+/           # -&gt; &quot;test&quot;
  s.matched_size          # -&gt; 4
  s.check /\d+/           # -&gt; nil
  s.matched_size          # -&gt; nil
</pre>

        </div>
      </div>


      <div id="method-M002603" class="method-detail">
        <a name="M002603"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002603.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002603.html');return false;">

          <span class="method-name">matchedsize</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Equivalent to <a href="StringScanner.html#M002602">matched_size</a>. This
method is obsolete; use <a
href="StringScanner.html#M002602">matched_size</a> instead.
</p>

        </div>
      </div>


      <div id="method-M002593" class="method-detail">
        <a name="M002593"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002593.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002593.html');return false;">

          <span class="method-name"> peek(len)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Extracts a string corresponding to <tt>string[pos,len]</tt>, without
advancing the scan pointer.
</p>
<pre>
  s = StringScanner.new('test string')
  s.peek(7)          # =&gt; &quot;test st&quot;
  s.peek(7)          # =&gt; &quot;test st&quot;
</pre>

        </div>
      </div>


      <div id="method-M002594" class="method-detail">
        <a name="M002594"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002594.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002594.html');return false;">

          <span class="method-name">peep</span><span class="method-args">(p1)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Equivalent to <a href="StringScanner.html#M002593">peek</a>. This method is
obsolete; use <a href="StringScanner.html#M002593">peek</a> instead.
</p>

        </div>
      </div>


      <div id="method-M002578" class="method-detail">
        <a name="M002578"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002578.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002578.html');return false;">

          <span class="method-name">pointer</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the position of the scan pointer. In the &#8216;reset&#8217;
position, this value is zero. In the &#8216;terminated&#8217; position
(i.e. the string is exhausted), this value is the length of the string.
</p>
<p>
In short, it&#8217;s a 0-based index into the string.
</p>
<pre>
  s = StringScanner.new('test string')
  s.pos               # -&gt; 0
  s.scan_until /str/  # -&gt; &quot;test str&quot;
  s.pos               # -&gt; 8
  s.terminate         # -&gt; #&lt;StringScanner fin&gt;
  s.pos               # -&gt; 11
</pre>

        </div>
      </div>


      <div id="method-M002579" class="method-detail">
        <a name="M002579"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002579.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002579.html');return false;">

          <span class="method-name"> pos=(n)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Modify the scan pointer.
</p>
<pre>
  s = StringScanner.new('test string')
  s.pos = 7            # -&gt; 7
  s.rest               # -&gt; &quot;ring&quot;
</pre>

        </div>
      </div>


      <div id="method-M002576" class="method-detail">
        <a name="M002576"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002576.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002576.html');return false;">

          <span class="method-name">pos</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the position of the scan pointer. In the &#8216;reset&#8217;
position, this value is zero. In the &#8216;terminated&#8217; position
(i.e. the string is exhausted), this value is the length of the string.
</p>
<p>
In short, it&#8217;s a 0-based index into the string.
</p>
<pre>
  s = StringScanner.new('test string')
  s.pos               # -&gt; 0
  s.scan_until /str/  # -&gt; &quot;test str&quot;
  s.pos               # -&gt; 8
  s.terminate         # -&gt; #&lt;StringScanner fin&gt;
  s.pos               # -&gt; 11
</pre>

        </div>
      </div>


      <div id="method-M002577" class="method-detail">
        <a name="M002577"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002577.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002577.html');return false;">

          <span class="method-name"> pos=(n)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Modify the scan pointer.
</p>
<pre>
  s = StringScanner.new('test string')
  s.pos = 7            # -&gt; 7
  s.rest               # -&gt; &quot;ring&quot;
</pre>

        </div>
      </div>


      <div id="method-M002606" class="method-detail">
        <a name="M002606"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002606.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002606.html');return false;">

          <span class="method-name">post_match</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Return the <b><em>post</b>-match</em> (in the regular expression sense) of
the last scan.
</p>
<pre>
  s = StringScanner.new('test string')
  s.scan(/\w+/)           # -&gt; &quot;test&quot;
  s.scan(/\s+/)           # -&gt; &quot; &quot;
  s.pre_match             # -&gt; &quot;test&quot;
  s.post_match            # -&gt; &quot;string&quot;
</pre>

        </div>
      </div>


      <div id="method-M002605" class="method-detail">
        <a name="M002605"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002605.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002605.html');return false;">

          <span class="method-name">pre_match</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Return the <b><em>pre</b>-match</em> (in the regular expression sense) of
the last scan.
</p>
<pre>
  s = StringScanner.new('test string')
  s.scan(/\w+/)           # -&gt; &quot;test&quot;
  s.scan(/\s+/)           # -&gt; &quot; &quot;
  s.pre_match             # -&gt; &quot;test&quot;
  s.post_match            # -&gt; &quot;string&quot;
</pre>

        </div>
      </div>


      <div id="method-M002569" class="method-detail">
        <a name="M002569"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002569.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002569.html');return false;">

          <span class="method-name">reset</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Reset the scan pointer (index 0) and clear matching data.
</p>

        </div>
      </div>


      <div id="method-M002607" class="method-detail">
        <a name="M002607"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002607.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002607.html');return false;">

          <span class="method-name">rest</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the &#8220;rest&#8221; of the string (i.e. everything after the
scan pointer). If there is no more data (eos? = true), it returns
<tt>&quot;&quot;</tt>.
</p>

        </div>
      </div>


      <div id="method-M002599" class="method-detail">
        <a name="M002599"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002599.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002599.html');return false;">

          <span class="method-name">rest?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns true iff there is more data in the string. See <a
href="StringScanner.html#M002597">eos?</a>. This method is obsolete; use <a
href="StringScanner.html#M002597">eos?</a> instead.
</p>
<pre>
  s = StringScanner.new('test string')
  s.eos?              # These two
  s.rest?             # are opposites.
</pre>

        </div>
      </div>


      <div id="method-M002608" class="method-detail">
        <a name="M002608"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002608.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002608.html');return false;">

          <span class="method-name">rest_size</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
<tt>s.rest_size</tt> is equivalent to <tt>s.rest.size</tt>.
</p>

        </div>
      </div>


      <div id="method-M002609" class="method-detail">
        <a name="M002609"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002609.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002609.html');return false;">

          <span class="method-name">restsize</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
<tt>s.restsize</tt> is equivalent to <tt>s.rest_size</tt>. This method is
obsolete; use <a href="StringScanner.html#M002608">rest_size</a> instead.
</p>

        </div>
      </div>


      <div id="method-M002580" class="method-detail">
        <a name="M002580"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002580.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002580.html');return false;">

          <span class="method-name"> scan(pattern) => String<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Tries to match with <tt>pattern</tt> at the current position. If
there&#8217;s a match, the scanner advances the &#8220;scan pointer&#8221;
and returns the matched string. Otherwise, the scanner returns
<tt>nil</tt>.
</p>
<pre>
  s = StringScanner.new('test string')
  p s.scan(/\w+/)   # -&gt; &quot;test&quot;
  p s.scan(/\w+/)   # -&gt; nil
  p s.scan(/\s+/)   # -&gt; &quot; &quot;
  p s.scan(/\w+/)   # -&gt; &quot;string&quot;
  p s.scan(/./)     # -&gt; nil
</pre>

        </div>
      </div>


      <div id="method-M002584" class="method-detail">
        <a name="M002584"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002584.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002584.html');return false;">

          <span class="method-name"> scan_full(pattern, advance_pointer_p, return_string_p)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Tests whether the given <tt>pattern</tt> is matched from the current scan
pointer. Advances the scan pointer if <tt>advance_pointer_p</tt> is true.
Returns the matched string if <tt>return_string_p</tt> is true. The match
register is affected.
</p>
<p>
&#8220;full&#8221; means &#8220;<a
href="StringScanner.html#M002580">scan</a> with full parameters&#8221;.
</p>

        </div>
      </div>


      <div id="method-M002585" class="method-detail">
        <a name="M002585"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002585.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002585.html');return false;">

          <span class="method-name"> scan_until(pattern)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Scans the string <em>until</em> the <tt>pattern</tt> is matched. Returns
the substring up to and including the end of the match, advancing the scan
pointer to that location. If there is no match, <tt>nil</tt> is returned.
</p>
<pre>
  s = StringScanner.new(&quot;Fri Dec 12 1975 14:39&quot;)
  s.scan_until(/1/)        # -&gt; &quot;Fri Dec 1&quot;
  s.pre_match              # -&gt; &quot;Fri Dec &quot;
  s.scan_until(/XYZ/)      # -&gt; nil
</pre>

        </div>
      </div>


      <div id="method-M002589" class="method-detail">
        <a name="M002589"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002589.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002589.html');return false;">

          <span class="method-name"> search_full(pattern, advance_pointer_p, return_string_p)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Scans the string <em>until</em> the <tt>pattern</tt> is matched. Advances
the scan pointer if <tt>advance_pointer_p</tt>, otherwise not. Returns the
matched string if <tt>return_string_p</tt> is true, otherwise returns the
number of bytes advanced. This method does affect the match register.
</p>

        </div>
      </div>


      <div id="method-M002581" class="method-detail">
        <a name="M002581"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002581.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002581.html');return false;">

          <span class="method-name"> skip(pattern)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Attempts to skip over the given <tt>pattern</tt> beginning with the scan
pointer. If it matches, the scan pointer is advanced to the end of the
match, and the length of the match is returned. Otherwise, <tt>nil</tt> is
returned.
</p>
<p>
It&#8217;s similar to <a href="StringScanner.html#M002580">scan</a>, but
without returning the matched string.
</p>
<pre>
  s = StringScanner.new('test string')
  p s.skip(/\w+/)   # -&gt; 4
  p s.skip(/\w+/)   # -&gt; nil
  p s.skip(/\s+/)   # -&gt; 1
  p s.skip(/\w+/)   # -&gt; 6
  p s.skip(/./)     # -&gt; nil
</pre>

        </div>
      </div>


      <div id="method-M002586" class="method-detail">
        <a name="M002586"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002586.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002586.html');return false;">

          <span class="method-name"> skip_until(pattern)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Advances the scan pointer until <tt>pattern</tt> is matched and consumed.
Returns the number of bytes advanced, or <tt>nil</tt> if no match was
found.
</p>
<p>
Look ahead to match <tt>pattern</tt>, and advance the scan pointer to the
<em>end</em> of the match. Return the number of characters advanced, or
<tt>nil</tt> if the match was unsuccessful.
</p>
<p>
It&#8217;s similar to <a href="StringScanner.html#M002585">scan_until</a>,
but without returning the intervening string.
</p>
<pre>
  s = StringScanner.new(&quot;Fri Dec 12 1975 14:39&quot;)
  s.skip_until /12/           # -&gt; 10
  s                           #
</pre>

        </div>
      </div>


      <div id="method-M002572" class="method-detail">
        <a name="M002572"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002572.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002572.html');return false;">

          <span class="method-name">string</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns the string being scanned.
</p>

        </div>
      </div>


      <div id="method-M002573" class="method-detail">
        <a name="M002573"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002573.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002573.html');return false;">

          <span class="method-name"> string=(str)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Changes the string being scanned to <tt>str</tt> and resets the scanner.
Returns <tt>str</tt>.
</p>

        </div>
      </div>


      <div id="method-M002570" class="method-detail">
        <a name="M002570"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002570.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002570.html');return false;">

          <span class="method-name">terminate<br />
clear<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
<a href="Set.html">Set</a> the scan pointer to the end of the string and
clear matching data.
</p>

        </div>
      </div>


      <div id="method-M002595" class="method-detail">
        <a name="M002595"></a>

        <div class="method-heading">

          <a href="StringScanner.src/M002595.html" target="Code" class="method-signature"
            onclick="popupCode('StringScanner.src/M002595.html');return false;">

          <span class="method-name">unscan</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
<a href="Set.html">Set</a> the scan pointer to the previous position. Only
one previous position is remembered, and it changes with each scanning
operation.
</p>
<pre>
  s = StringScanner.new('test string')
  s.scan(/\w+/)        # =&gt; &quot;test&quot;
  s.unscan
  s.scan(/../)         # =&gt; &quot;te&quot;
  s.scan(/\d/)         # =&gt; nil
  s.unscan             # ScanError: unscan failed: previous match record not exist
</pre>

        </div>
      </div>



    </div>




  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
